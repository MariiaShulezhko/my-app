{"version":3,"sources":["../node_modules/@scandipwa/scandipwa/src/component/MyAccountDownloadable/index.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountDownloadable/MyAccountDownloadable.component.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountDownloadableTableRow/index.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountDownloadableTableRow/MyAccountDownloadableTableRow.component.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountDownloadableTableRow/MyAccountDownloadableTableRow.config.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountDownloadable/MyAccountDownloadable.config.js","../node_modules/@scandipwa/scandipwa/src/query/Order.query.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountDownloadable/MyAccountDownloadable.container.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountDownloadableTableRow/MyAccountDownloadableTableRow.container.js"],"names":["nextProps","this","props","items","block","elem","mix","colSpan","NUMBER_OF_COLUMNS_IN_DOWNLOADABLE_TABLE","__","renderOrderHeadingRow","renderOrderRows","order","id","key","isLoading","length","Array","from","_","reduceRight","acc","e","renderOrderRow","renderNoOrders","renderTable","Component","MyAccountDownloadableComponent","order_increment_id","onOrderIdClick","onClick","download_url","link_title","downloads","status_label","isOpenInNewTab","STATUS_EXPIRED","to","created_at","title","renderOrderIncrementId","renderLink","PureComponent","MyAccountDownloadableTableRowComponent","incrementId","Field","addArgument","addField","_getReorderField","addFieldList","_getSubscribeToOrderStatusOutputFields","options","_getOrderListFields","invoiceId","_getOrderItemsFields","shipmentId","refundId","_getOrdersField","orderId","page","ordersField","entity_id","eq","_getOrdersFields","isSingleOrder","_getOrderItemsField","_getSearchResultPageInfoField","_getSearchResultPageInfoFields","basicFields","_getOrderItemTotalField","_getSingleOrderFields","_getOrderShipmentsField","_getOrderItemsProductsField","_getOrderInvoicesField","_getOrderRefundsField","_getOrderShippingAddressField","_getOrderBillingAddressField","_getOrderPaymentMethodsField","_getOrderShippingMethodField","_getOrderCommentsField","_getOrderCommentsFields","_getOrderItemTotalFields","_getOrderGrandTotalField","_getOrderDiscountsField","_getOrderBaseGrantTotalField","_getOrderSubtotalField","_getOrderTotalShippingField","_getOrderTotalTaxField","_getOrderShippingHandlingField","_getOrderTaxesField","_getOrderTaxesFields","_getOrderAmountField","_getOrderShippingHandlingFields","_getOrderShippingAmountExclTaxField","_getOrderShippingAmountInclTaxField","_getOrderShippingDiscountsField","_getOrderShippingHandlingTotalField","_getOrderShippingDiscountsFields","_getOrderPriceFields","_getOrderShipmentsFields","_getOrderShipmentTrackingField","_getShipmentsItemsProductsField","_getShipmentsItemsProductsFields","_getBaseOrderItemProductsFields","_getOrderShipmentTrackingFields","_getOrderRefundsFields","_getRefundsItemsProductsField","_getOrderDiscountsFields","_getRefundsItemsProductsFields","_getRefundsItemInformationField","_getOrderProductRowSubtotalField","_getOrderItemProductsFields","_getOrderInvoicesFields","_getInvoiceItemsProductsField","_getInvoiceItemProductsFields","_getOrderProductEnteredOptionsField","_getOrderProductSelectedOptionsField","_getOrderProductSalePriceField","_getOrderProductOptionsFields","_getOrderProductBundleOptionItemsField","_getOrderProductBundleOptionItemsFields","_getReorderFields","_getOrderAddressFields","_getOrderAddressStreetField","_getOrderPaymentMethodsFields","_getOrderPaymentMethodAdditionalField","_getOrderPaymentMethodAdditionalFields","_getDownloadableField","_getOrderByIdField","customerEmail","_getDownloadableFields","OrderQuery","mapStateToProps","state","device","ConfigReducer","mapDispatchToProps","dispatch","showErrorNotification","message","showNotification","showSuccessNotification","requestDownloadable","_prepareDownloadableProps","reduce","item","index","push","order_id","status","date","remaining_downloads","setState","fetchQuery","getDownloadableQuery","customerDownloadableProducts","getErrorMessage","containerProps","connect","MyAccountDownloadableContainer","downloadable_links_target_new_window","containerFunctions","bind","history","pathname","appendWithStoreCode","ACCOUNT_ORDER_URL","MyAccountDownloadableTableRowContainer"],"mappings":"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","file":"static/js/account-downloadable.d10f60ee.chunk.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './MyAccountDownloadable.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { Component } from 'react';\n\nimport Loader from 'Component/Loader';\nimport MyAccountDownloadableTableRow from 'Component/MyAccountDownloadableTableRow';\nimport { DownloadableType } from 'Type/Order.type';\n\nimport { NUMBER_OF_COLUMNS_IN_DOWNLOADABLE_TABLE } from './MyAccountDownloadable.config';\n\nimport './MyAccountDownloadable.style';\n\n/** @namespace Component/MyAccountDownloadable/Component */\nexport class MyAccountDownloadableComponent extends Component {\n    static propTypes = {\n        items: PropTypes.arrayOf(DownloadableType).isRequired,\n        isLoading: PropTypes.bool.isRequired\n    };\n\n    shouldComponentUpdate(nextProps) {\n        const { items } = this.props;\n        const { items: nextItems } = nextProps;\n\n        return items !== nextItems;\n    }\n\n    renderNoOrders() {\n        return (\n            <tr\n              block=\"MyAccountMyOrders\"\n              elem=\"NoOrders\"\n              mix={ { block: 'MyDownloadableOrders', elem: 'NoOrders' } }\n            >\n                <td colSpan={ NUMBER_OF_COLUMNS_IN_DOWNLOADABLE_TABLE }>\n                    <p>{ __('You have not purchased any downloadable products yet.') }</p>\n                </td>\n            </tr>\n        );\n    }\n\n    renderOrderHeadingRow() {\n        return (\n            <tr>\n                <th>{ __('Order') }</th>\n                <th>{ __('Date') }</th>\n                <th>{ __('Title') }</th>\n                <th>{ __('Status') }</th>\n                <th>{ __('Remaining Downloads') }</th>\n            </tr>\n        );\n    }\n\n    renderTable() {\n        return (\n            <table\n              block=\"MyAccountMyOrders\"\n              elem=\"Table\"\n              mix={ {\n                  block: 'MyDownloadable'\n              } }\n            >\n                <thead>\n                    { this.renderOrderHeadingRow() }\n                </thead>\n                <tbody>\n                    { this.renderOrderRows() }\n                </tbody>\n            </table>\n        );\n    }\n\n    renderOrderRow(order) {\n        const { id } = order;\n\n        return (\n            <MyAccountDownloadableTableRow\n              key={ id }\n              order={ order }\n            />\n        );\n    }\n\n    renderOrderRows() {\n        const { items, isLoading } = this.props;\n\n        if (!isLoading && !items.length) {\n            return this.renderNoOrders();\n        }\n\n        const orders = items.length\n            ? items\n            : Array.from({ length: 10 }, (_, id) => ({ id }));\n\n        return orders.reduceRight(\n            (acc, e) => [...acc, this.renderOrderRow(e)],\n            []\n        );\n    }\n\n    render() {\n        const { isLoading } = this.props;\n\n        return (\n            <div\n              block=\"MyAccountMyOrders\"\n              mix={ {\n                  block: 'MyDownloadableOrders'\n              } }\n            >\n                <Loader isLoading={ isLoading } />\n                { this.renderTable() }\n            </div>\n        );\n    }\n}\n\nexport default MyAccountDownloadableComponent;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './MyAccountDownloadableTableRow.container';\n","/* eslint-disable jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Link from 'Component/Link';\nimport { STATUS_EXPIRED } from 'Component/MyAccountDownloadableTableRow/MyAccountDownloadableTableRow.config';\nimport { DownloadableType } from 'Type/Order.type';\n\nimport './MyAccountDownloadableTableRow.style';\n\n/** @namespace Component/MyAccountDownloadableTableRow/Component */\nexport class MyAccountDownloadableTableRowComponent extends PureComponent {\n    static propTypes = {\n        order: DownloadableType.isRequired,\n        onOrderIdClick: PropTypes.func.isRequired,\n        isOpenInNewTab: PropTypes.bool.isRequired\n    };\n\n    renderOrderIncrementId() {\n        const {\n            order: {\n                order_increment_id\n            },\n            onOrderIdClick\n        } = this.props;\n\n        return (\n            <div onClick={ onOrderIdClick } block=\"MyAccountDownloadTableRow\" elem=\"OrderId\">\n                #\n                { order_increment_id }\n            </div>\n        );\n    }\n\n    renderLink() {\n        const {\n            order: {\n                download_url,\n                link_title,\n                downloads,\n                status_label\n            },\n            isOpenInNewTab\n        } = this.props;\n\n        if (!download_url || !downloads || status_label === STATUS_EXPIRED) {\n            return null;\n        }\n\n        return (\n            <Link\n              to={ download_url }\n              block=\"MyAccountDownloadTableRow\"\n              elem=\"DownloadLink\"\n              isOpenInNewTab={ isOpenInNewTab }\n            >\n                { link_title }\n            </Link>\n        );\n    }\n\n    render() {\n        const {\n            order: {\n                order_increment_id,\n                downloads,\n                created_at,\n                title,\n                status_label = ''\n            } = {}\n        } = this.props;\n\n        return (\n            <tr block=\"MyAccountOrderTableRow\">\n                <td>{ order_increment_id ? this.renderOrderIncrementId() : '' }</td>\n                <td>{ created_at }</td>\n                <td>\n                    { title }\n                    { this.renderLink() }\n                </td>\n                <td block=\"MyAccountDownloadTableRow\" elem=\"Status\">{ status_label }</td>\n                <td>{ downloads }</td>\n            </tr>\n        );\n    }\n}\n\nexport default MyAccountDownloadableTableRowComponent;\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport const STATUS_EXPIRED = 'expired';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport const NUMBER_OF_COLUMNS_IN_DOWNLOADABLE_TABLE = 5;\n\nexport default NUMBER_OF_COLUMNS_IN_DOWNLOADABLE_TABLE;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport { Field } from 'Util/Query';\n\n/**\n * Order Query\n * @class OrderQuery\n * @namespace Query/Order/Query */\nexport class OrderQuery {\n    getReorder(incrementId) {\n        return new Field('reorderItems')\n            .addArgument('orderNumber', 'String!', incrementId)\n            .addField(this._getReorderField());\n    }\n\n    getSubscribeToOrderStatus(incrementId) {\n        return new Field('subscribeToOrderStatus')\n            .addArgument('orderNumber', 'String!', incrementId)\n            .addFieldList(this._getSubscribeToOrderStatusOutputFields());\n    }\n\n    getOrderListQuery(options) {\n        return new Field('customer')\n            .addFieldList(this._getOrderListFields(options));\n    }\n\n    getOrderByInvoice(invoiceId) {\n        return new Field('orderByInvoice')\n            .addArgument('invoiceId', 'Int!', invoiceId)\n            .addFieldList(this._getOrderItemsFields(true));\n    }\n\n    getOrderByShipment(shipmentId) {\n        return new Field('orderByShipment')\n            .addArgument('shipmentId', 'Int!', shipmentId)\n            .addFieldList(this._getOrderItemsFields(true));\n    }\n\n    getOrderByRefund(refundId) {\n        return new Field('orderByRefund')\n            .addArgument('refundId', 'Int!', refundId)\n            .addFieldList(this._getOrderItemsFields(true));\n    }\n\n    _getOrderListFields(options) {\n        return [\n            this._getOrdersField(options)\n        ];\n    }\n\n    _getOrdersField(options) {\n        const { orderId, page = 1 } = options || {};\n        const ordersField = new Field('orders');\n\n        if (orderId) {\n            return ordersField\n                .addArgument('filter', 'CustomerOrdersFilterInput', { entity_id: { eq: orderId } })\n                .addFieldList(this._getOrdersFields(true));\n        }\n\n        return ordersField\n            .addArgument('currentPage', 'Int', page)\n            .addFieldList(this._getOrdersFields());\n    }\n\n    _getOrdersFields(isSingleOrder = false) {\n        return [\n            'total_count',\n            this._getOrderItemsField(isSingleOrder),\n            this._getSearchResultPageInfoField()\n        ];\n    }\n\n    _getSearchResultPageInfoField() {\n        return new Field('page_info')\n            .addFieldList(this._getSearchResultPageInfoFields());\n    }\n\n    _getSearchResultPageInfoFields() {\n        return [\n            'current_page',\n            'page_size',\n            'total_pages'\n        ];\n    }\n\n    _getOrderItemsField(isSingleOrder) {\n        return new Field('items')\n            .addFieldList(this._getOrderItemsFields(isSingleOrder));\n    }\n\n    _getOrderItemsFields(isSingleOrder) {\n        const basicFields = [\n            'id',\n            'increment_id',\n            'order_date',\n            'status',\n            'can_reorder',\n            'rss_link',\n            this._getOrderItemTotalField()\n        ];\n\n        if (isSingleOrder) {\n            return [...basicFields, ...this._getSingleOrderFields()];\n        }\n\n        return basicFields;\n    }\n\n    _getSingleOrderFields() {\n        return [\n            'carrier',\n            this._getOrderShipmentsField(),\n            this._getOrderItemsProductsField(),\n            this._getOrderInvoicesField(),\n            this._getOrderRefundsField(),\n            this._getOrderShippingAddressField(),\n            this._getOrderBillingAddressField(),\n            this._getOrderPaymentMethodsField(),\n            this._getOrderShippingMethodField(),\n            this._getOrderCommentsField()\n        ];\n    }\n\n    _getOrderCommentsField() {\n        return new Field('comments')\n            .addFieldList(this._getOrderCommentsFields());\n    }\n\n    _getOrderCommentsFields() {\n        return [\n            'timestamp',\n            'message'\n        ];\n    }\n\n    _getOrderItemTotalField() {\n        return new Field('total')\n            .addFieldList(this._getOrderItemTotalFields());\n    }\n\n    _getOrderItemTotalFields() {\n        return [\n            this._getOrderGrandTotalField(),\n            this._getOrderDiscountsField(),\n            this._getOrderBaseGrantTotalField(),\n            this._getOrderSubtotalField(),\n            this._getOrderTotalShippingField(),\n            this._getOrderTotalTaxField(),\n            this._getOrderShippingHandlingField(),\n            this._getOrderTaxesField()\n        ];\n    }\n\n    _getOrderTaxesField() {\n        return new Field('taxes')\n            .addFieldList(this._getOrderTaxesFields());\n    }\n\n    _getOrderTaxesFields() {\n        return [\n            'rate',\n            'title',\n            this._getOrderAmountField()\n        ];\n    }\n\n    _getOrderShippingHandlingField() {\n        return new Field('shipping_handling')\n            .addFieldList(this._getOrderShippingHandlingFields());\n    }\n\n    _getOrderShippingHandlingFields() {\n        return [\n            this._getOrderShippingAmountExclTaxField(),\n            this._getOrderShippingAmountInclTaxField(),\n            this._getOrderShippingDiscountsField(),\n            this._getOrderShippingHandlingTotalField(),\n            this._getOrderTaxesField()\n        ];\n    }\n\n    _getOrderShippingDiscountsField() {\n        return new Field('discounts')\n            .addFieldList(this._getOrderShippingDiscountsFields());\n    }\n\n    _getOrderShippingDiscountsFields() {\n        return [\n            this._getOrderAmountField()\n        ];\n    }\n\n    _getOrderShippingAmountExclTaxField() {\n        return new Field('amount_excluding_tax')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderShippingAmountInclTaxField() {\n        return new Field('amount_including_tax')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderShippingHandlingTotalField() {\n        return new Field('total_amount')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderTotalTaxField() {\n        return new Field('total_tax')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderTotalShippingField() {\n        return new Field('total_shipping')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderBaseGrantTotalField() {\n        return new Field('base_grand_total')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderSubtotalField() {\n        return new Field('subtotal')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderGrandTotalField() {\n        return new Field('grand_total')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderPriceFields() {\n        return [\n            'value',\n            'currency'\n        ];\n    }\n\n    _getOrderShipmentsField() {\n        return new Field('shipments')\n            .addFieldList(this._getOrderShipmentsFields());\n    }\n\n    _getOrderShipmentsFields() {\n        return [\n            'id',\n            'number',\n            this._getOrderCommentsField(),\n            this._getOrderShipmentTrackingField(),\n            this._getShipmentsItemsProductsField()\n        ];\n    }\n\n    _getShipmentsItemsProductsField() {\n        return new Field('items')\n            .addFieldList(this._getShipmentsItemsProductsFields());\n    }\n\n    _getShipmentsItemsProductsFields() {\n        return [\n            'quantity_shipped',\n            ...this._getBaseOrderItemProductsFields()\n        ];\n    }\n\n    _getOrderShipmentTrackingField() {\n        return new Field('tracking')\n            .addFieldList(this._getOrderShipmentTrackingFields());\n    }\n\n    _getOrderShipmentTrackingFields() {\n        return [\n            'carrier',\n            'number',\n            'title'\n        ];\n    }\n\n    _getOrderRefundsField() {\n        return new Field('credit_memos')\n            .addFieldList(this._getOrderRefundsFields());\n    }\n\n    _getOrderRefundsFields() {\n        return [\n            'id',\n            'number',\n            this._getOrderCommentsField(),\n            this._getRefundsItemsProductsField(),\n            this._getOrderItemTotalField()\n        ];\n    }\n\n    _getOrderDiscountsField() {\n        return new Field('discounts')\n            .addFieldList(this._getOrderDiscountsFields());\n    }\n\n    _getOrderDiscountsFields() {\n        return [\n            'label',\n            this._getOrderAmountField()\n        ];\n    }\n\n    _getOrderAmountField() {\n        return new Field('amount')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getRefundsItemsProductsField() {\n        return new Field('items')\n            .addFieldList(this._getRefundsItemsProductsFields());\n    }\n\n    _getRefundsItemsProductsFields() {\n        return [\n            'quantity_refunded',\n            ...this._getBaseOrderItemProductsFields(),\n            this._getRefundsItemInformationField(),\n            this._getOrderProductRowSubtotalField(),\n            this._getOrderDiscountsField()\n        ];\n    }\n\n    _getRefundsItemInformationField() {\n        return new Field('order_item')\n            .addFieldList(this._getOrderItemProductsFields());\n    }\n\n    _getOrderInvoicesField() {\n        return new Field('invoices')\n            .addFieldList(this._getOrderInvoicesFields());\n    }\n\n    _getOrderInvoicesFields() {\n        return [\n            'id',\n            'number',\n            this._getOrderCommentsField(),\n            this._getInvoiceItemsProductsField(),\n            this._getOrderItemTotalField()\n        ];\n    }\n\n    _getInvoiceItemsProductsField() {\n        return new Field('items')\n            .addFieldList(this._getInvoiceItemProductsFields());\n    }\n\n    _getInvoiceItemProductsFields() {\n        return [\n            'quantity_invoiced',\n            this._getOrderProductRowSubtotalField(),\n            ...this._getBaseOrderItemProductsFields()\n        ];\n    }\n\n    _getOrderItemsProductsField() {\n        return new Field('items')\n            .addFieldList(this._getOrderItemProductsFields());\n    }\n\n    _getOrderItemProductsFields() {\n        return [\n            'product_url_key',\n            'quantity_ordered',\n            'quantity_shipped',\n            'quantity_refunded',\n            'quantity_canceled',\n            this._getOrderProductEnteredOptionsField(),\n            this._getOrderProductSelectedOptionsField(),\n            this._getOrderProductRowSubtotalField(),\n            ...this._getBaseOrderItemProductsFields()\n        ];\n    }\n\n    _getBaseOrderItemProductsFields() {\n        return [\n            'product_name',\n            'product_sku',\n            this._getOrderProductSalePriceField()\n        ];\n    }\n\n    _getOrderProductRowSubtotalField() {\n        return new Field('row_subtotal')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderProductRowSubtotalInclTaxField() {\n        return new Field('row_subtotal_incl_tax')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getOrderProductEnteredOptionsField() {\n        return new Field('entered_options')\n            .addFieldList(this._getOrderProductOptionsFields());\n    }\n\n    _getOrderProductSelectedOptionsField() {\n        return new Field('selected_options')\n            .addFieldList(this._getOrderProductOptionsFields());\n    }\n\n    _getOrderProductOptionsFields() {\n        return [\n            'label',\n            'value',\n            this._getOrderProductBundleOptionItemsField(),\n            'linkItems'\n        ];\n    }\n\n    _getOrderProductBundleOptionItemsField() {\n        return new Field('items')\n            .addFieldList(this._getOrderProductBundleOptionItemsFields());\n    }\n\n    _getOrderProductBundleOptionItemsFields() {\n        return [\n            'title',\n            'qty',\n            'price'\n        ];\n    }\n\n    _getOrderProductSalePriceField() {\n        return new Field('product_sale_price')\n            .addFieldList(this._getOrderPriceFields());\n    }\n\n    _getReorderField() {\n        return new Field('userInputErrors')\n            .addFieldList(this._getReorderFields());\n    }\n\n    _getReorderFields() {\n        return [\n            'code',\n            'message',\n            'path'\n        ];\n    }\n\n    _getOrderShippingAddressField() {\n        return new Field('shipping_address')\n            .addFieldList(this._getOrderAddressFields());\n    }\n\n    _getOrderBillingAddressField() {\n        return new Field('billing_address')\n            .addFieldList(this._getOrderAddressFields());\n    }\n\n    _getOrderAddressFields() {\n        return [\n            'city',\n            'country_id',\n            'firstname',\n            'lastname',\n            'postcode',\n            'region',\n            'region_id',\n            'telephone',\n            'vat_id',\n            this._getOrderAddressStreetField()\n        ];\n    }\n\n    _getOrderAddressStreetField() {\n        return new Field('street');\n    }\n\n    _getOrderPaymentMethodsField() {\n        return new Field('payment_methods')\n            .addFieldList(this._getOrderPaymentMethodsFields());\n    }\n\n    _getOrderPaymentMethodsFields() {\n        return [\n            'name',\n            'type',\n            'purchase_number',\n            this._getOrderPaymentMethodAdditionalField()\n        ];\n    }\n\n    _getOrderPaymentMethodAdditionalField() {\n        return new Field('additional_data')\n            .addFieldList(this._getOrderPaymentMethodAdditionalFields());\n    }\n\n    _getOrderPaymentMethodAdditionalFields() {\n        return [\n            'name',\n            'value'\n        ];\n    }\n\n    _getOrderShippingMethodField() {\n        return new Field('shipping_method');\n    }\n\n    getDownloadableQuery() {\n        return new Field('customerDownloadableProducts')\n            .addField(this._getDownloadableField());\n    }\n\n    getOrderByIdQuery(orderId) {\n        return this._getOrderByIdField(orderId);\n    }\n\n    linkOrderMutation(customerEmail) {\n        return new Field('linkOrder')\n            .addArgument('customer_email', 'String!', customerEmail);\n    }\n\n    _getOrderByIdField(orderId) {\n        return new Field('Customer')\n            .addArgument('id', 'Int!', orderId)\n            .addFieldList(this._getOrderItemsFields());\n    }\n\n    _getDownloadableField() {\n        return new Field('items')\n            .addFieldList(this._getDownloadableFields());\n    }\n\n    _getDownloadableFields() {\n        return [\n            'order_id',\n            'order_increment_id',\n            'date',\n            'status',\n            'download_url',\n            'link_title',\n            'remaining_downloads',\n            'title'\n        ];\n    }\n}\n\nexport default new OrderQuery();\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport OrderQuery from 'Query/Order.query';\nimport { showNotification } from 'Store/Notification/Notification.action';\nimport { DeviceType } from 'Type/Device.type';\nimport { fetchQuery, getErrorMessage } from 'Util/Request';\n\nimport MyAccountDownloadable from './MyAccountDownloadable.component';\n\nexport const OrderDispatcher = import(\n    /* webpackMode: \"lazy\", webpackChunkName: \"dispatchers\" */\n    'Store/Order/Order.dispatcher'\n);\n\n/** @namespace Component/MyAccountDownloadable/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/MyAccountDownloadable/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showErrorNotification: (message) => dispatch(showNotification('error', message)),\n    showSuccessNotification: (message) => dispatch(showNotification('success', message))\n});\n\n/** @namespace Component/MyAccountDownloadable/Container */\nexport class MyAccountDownloadableContainer extends PureComponent {\n    static propTypes = {\n        device: DeviceType.isRequired,\n        showErrorNotification: PropTypes.func.isRequired,\n        showSuccessNotification: PropTypes.func.isRequired\n    };\n\n    state = {\n        items: [],\n        isLoading: false\n    };\n\n    componentDidMount() {\n        this.requestDownloadable();\n    }\n\n    containerProps() {\n        const { device } = this.props;\n        const { isLoading } = this.state;\n\n        return {\n            device,\n            isLoading,\n            items: this._prepareDownloadableProps()\n        };\n    }\n\n    _prepareDownloadableProps() {\n        const { items } = this.state;\n\n        if (!items?.length) {\n            return [];\n        }\n\n        return items.reduce((acc, item, index) => {\n            acc.push({\n                id: index,\n                order_id: item.order_id,\n                order_increment_id: item.order_increment_id,\n                status_label: item.status,\n                created_at: item.date,\n                download_url: item.download_url,\n                downloads: item.remaining_downloads,\n                title: item.title,\n                link_title: item.link_title\n            });\n\n            return acc;\n        }, []);\n    }\n\n    async requestDownloadable() {\n        const { showErrorNotification } = this.props;\n\n        this.setState({ isLoading: true });\n\n        try {\n            const {\n                customerDownloadableProducts: {\n                    items = []\n                } = {}\n            } = await fetchQuery(OrderQuery.getDownloadableQuery());\n\n            this.setState({ items, isLoading: false });\n        } catch (e) {\n            showErrorNotification(getErrorMessage(e));\n            this.setState({ isLoading: false });\n        }\n    }\n\n    render() {\n        return (\n            <MyAccountDownloadable\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyAccountDownloadableContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { ACCOUNT_ORDER_URL } from 'Route/MyAccount/MyAccount.config';\nimport { DeviceType } from 'Type/Device.type';\nimport { DownloadableType } from 'Type/Order.type';\nimport history from 'Util/History';\nimport { appendWithStoreCode } from 'Util/Url';\n\nimport MyAccountDownloadableTableRow from './MyAccountDownloadableTableRow.component';\n\n/** @namespace Component/MyAccountDownloadableTableRow/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    device: state.ConfigReducer.device,\n    isOpenInNewTab: state.ConfigReducer.downloadable_links_target_new_window\n});\n\n/** @namespace Component/MyAccountDownloadableTableRow/Container/mapDispatchToProps */\nexport const mapDispatchToProps = () => ({});\n\n/** @namespace Component/MyAccountDownloadableTableRow/Container */\nexport class MyAccountDownloadableTableRowContainer extends PureComponent {\n    static propTypes = {\n        order: DownloadableType.isRequired,\n        device: DeviceType.isRequired,\n        isOpenInNewTab: PropTypes.bool.isRequired\n    };\n\n    containerFunctions = {\n        onOrderIdClick: this.onOrderIdClick.bind(this)\n    };\n\n    onOrderIdClick() {\n        const { order: { order_id } } = this.props;\n\n        history.push({ pathname: appendWithStoreCode(`${ACCOUNT_ORDER_URL}/${order_id}`) });\n    }\n\n    containerProps() {\n        const { device, order, isOpenInNewTab } = this.props;\n\n        return ({\n            order,\n            device,\n            isOpenInNewTab\n        });\n    }\n\n    render() {\n        return (\n            <MyAccountDownloadableTableRow\n              { ...this.containerProps() }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyAccountDownloadableTableRowContainer);\n"],"sourceRoot":""}