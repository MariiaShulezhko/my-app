{"version":3,"sources":["../node_modules/@scandipwa/scandipwa/src/component/MyAccountDashboard/index.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountDashboard/MyAccountDashboard.component.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountCustomerTable/index.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountCustomerTable/MyAccountCustomerTable.component.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountDashboard/MyAccountDashboard.container.js","../node_modules/@scandipwa/scandipwa/src/component/MyAccountCustomerTable/MyAccountCustomerTable.container.js"],"names":["name","key","block","elem","__","this","renderLinkToAddressBook","to","ACCOUNT_URL","ADDRESS_BOOK","isBilling","getDefaultAddress","props","address","title","renderNoDefaultAddressConfigured","renderAddressBlockTitle","customer","addresses","length","renderDefaultAddressTable","renderNoAddresses","isLoading","Object","keys","renderCustomerTable","renderDefaultAddressTables","PureComponent","MyAccountDashboard","label","source","handleOnEditInformation","handleOnEditPassword","mods","isHollow","onClick","isWithoutBorder","renderTable","renderActions","KeyValueTable","propTypes","PropTypes","func","isRequired","CustomerType","MyAccountCustomerTable","mapStateToProps","state","MyAccountReducer","mapDispatchToProps","containerFunctions","bind","find","containerProps","connect","MyAccountDashboardContainer","history","push","pathname","appendWithStoreCode","ACCOUNT_INFORMATION_EDIT_URL","editPassword","defaultProps","MyAccountCustomerTableContainer"],"mappings":"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","file":"static/js/account-dashboard.1eb06711.chunk.js","sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './MyAccountDashboard.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Link from 'Component/Link';\nimport Loader from 'Component/Loader';\nimport MyAccountAddressTable from 'Component/MyAccountAddressTable';\nimport MyAccountCustomerTable from 'Component/MyAccountCustomerTable';\nimport { ACCOUNT_URL } from 'Route/MyAccount/MyAccount.config';\nimport { ADDRESS_BOOK, CustomerType } from 'Type/Account.type';\n\nimport './MyAccountDashboard.style';\n\n/** @namespace Component/MyAccountDashboard/Component */\nexport class MyAccountDashboard extends PureComponent {\n    static propTypes = {\n        customer: CustomerType.isRequired,\n        getDefaultAddress: PropTypes.func.isRequired\n    };\n\n    renderNoDefaultAddressConfigured(name) {\n        return (\n            <div\n              key={ name }\n              block=\"MyAccountDashboard\"\n              elem=\"DefaultAddress\"\n            >\n                <p block=\"MyAccountDashboard\" elem=\"Info\">{ __('No %s address configured.', name) }</p>\n                { this.renderLinkToAddressBook() }\n            </div>\n        );\n    }\n\n    renderLinkToAddressBook() {\n        return (\n            <p block=\"MyAccountDashboard\" elem=\"Info\">\n                <Link to={ `${ACCOUNT_URL}/${ADDRESS_BOOK}` }>\n                    { __('Go to \"Address Book\", to configure them!') }\n                </Link>\n            </p>\n        );\n    }\n\n    renderDefaultAddressTable(isBilling) {\n        const { getDefaultAddress } = this.props;\n        const name = isBilling ? __('billing') : __('shipping');\n        const address = getDefaultAddress(isBilling);\n\n        if (!address) {\n            return this.renderNoDefaultAddressConfigured(name);\n        }\n\n        return (\n            <div\n              key={ name }\n              block=\"MyAccountDashboard\"\n              elem=\"DefaultAddress\"\n            >\n                <MyAccountAddressTable\n                  address={ address }\n                  title={ __('Default %s address', name) }\n                />\n            </div>\n        );\n    }\n\n    renderAddressBlockTitle() {\n        return (\n            <div block=\"MyAccountDashboard\" elem=\"BlockTitle\">\n                <span>{ __('Address Book') }</span>\n                <Link to={ `${ACCOUNT_URL}/${ADDRESS_BOOK}` }>\n                    { __('Manage Addresses') }\n                </Link>\n            </div>\n        );\n    }\n\n    renderNoAddresses() {\n        return (\n            <div>\n                { this.renderAddressBlockTitle() }\n                <p block=\"MyAccountDashboard\" elem=\"Info\">{ __('You have no configured addresses.') }</p>\n                { this.renderLinkToAddressBook() }\n            </div>\n        );\n    }\n\n    renderDefaultAddressTables() {\n        const { customer: { addresses = [] } } = this.props;\n\n        if (!addresses.length) {\n            return this.renderNoAddresses();\n        }\n\n        return (\n            <div block=\"MyAccountDashboard\" elem=\"Addresses\">\n                { this.renderAddressBlockTitle() }\n                <div block=\"MyAccountDashboard\" elem=\"AddressesWrapper\">\n                    { this.renderDefaultAddressTable() }\n                    { this.renderDefaultAddressTable(true) }\n                </div>\n            </div>\n        );\n    }\n\n    renderCustomerTable() {\n        const { customer } = this.props;\n\n        return (\n            <div block=\"MyAccountDashboard\" elem=\"CustomerData\">\n                <div block=\"MyAccountDashboard\" elem=\"BlockTitle\">\n                    <span>{ __('Account Information') }</span>\n                </div>\n                <MyAccountCustomerTable\n                  customer={ customer }\n                  title={ __('My profile') }\n                />\n            </div>\n        );\n    }\n\n    render() {\n        const { customer } = this.props;\n\n        return (\n            <div block=\"MyAccountDashboard\">\n                <Loader isLoading={ !Object.keys(customer).length } />\n                { this.renderCustomerTable() }\n                { this.renderDefaultAddressTables() }\n            </div>\n        );\n    }\n}\n\nexport default MyAccountDashboard;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './MyAccountCustomerTable.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\n\nimport KeyValueTable from 'Component/KeyValueTable';\nimport { CustomerType } from 'Type/Account.type';\n\n/** @namespace Component/MyAccountCustomerTable/Component */\nexport class MyAccountCustomerTable extends KeyValueTable {\n    static propTypes = {\n        handleOnEditInformation: PropTypes.func.isRequired,\n        handleOnEditPassword: PropTypes.func.isRequired,\n        customer: CustomerType.isRequired\n    };\n\n    get dataPairArray() {\n        const { customer } = this.props;\n\n        return [\n            {\n                key: 'firstname',\n                label: __('First name'),\n                source: customer\n            },\n            {\n                key: 'lastname',\n                label: __('Last name'),\n                source: customer\n            },\n            {\n                key: 'taxvat',\n                label: __('Tax/VAT Number'),\n                source: customer\n            },\n            {\n                key: 'email',\n                label: __('Email'),\n                source: customer\n            }\n        ];\n    }\n\n    renderActions() {\n        const { handleOnEditInformation, handleOnEditPassword } = this.props;\n\n        return (\n            <>\n                <button\n                  block=\"Button\"\n                  mods={ { isHollow: true } }\n                  onClick={ handleOnEditInformation }\n                >\n                    { __('Edit details') }\n                </button>\n                <button\n                  block=\"Button\"\n                  mods={ { isHollow: true, isWithoutBorder: true } }\n                  onClick={ handleOnEditPassword }\n                >\n                    { __('Change password') }\n                </button>\n            </>\n        );\n    }\n\n    render() {\n        return (\n            <div block=\"MyAccountCustomerTable\">\n                { this.renderTable() }\n                { this.renderActions() }\n            </div>\n        );\n    }\n}\n\nexport default MyAccountCustomerTable;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { CustomerType } from 'Type/Account.type';\n\nimport MyAccountDashboard from './MyAccountDashboard.component';\n\n/** @namespace Component/MyAccountDashboard/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    customer: state.MyAccountReducer.customer\n});\n\n/** @namespace Component/MyAccountDashboard/Container/mapDispatchToProps */\nexport const mapDispatchToProps = () => ({});\n\n/** @namespace Component/MyAccountDashboard/Container */\nexport class MyAccountDashboardContainer extends PureComponent {\n    static propTypes = {\n        customer: CustomerType.isRequired\n    };\n\n    containerFunctions = {\n        getDefaultAddress: this.getDefaultAddress.bind(this)\n    };\n\n    containerProps() {\n        const { customer } = this.props;\n\n        return { customer };\n    }\n\n    getDefaultAddress(isBilling) {\n        const { customer: { addresses = [] } } = this.props;\n        const key = isBilling ? 'default_billing' : 'default_shipping';\n\n        return addresses.find(({ [key]: defaultAddress }) => defaultAddress);\n    }\n\n    render() {\n        return (\n            <MyAccountDashboard\n              { ...this.containerProps() }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyAccountDashboardContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ACCOUNT_INFORMATION_EDIT_URL } from 'Route/MyAccount/MyAccount.config';\nimport { CustomerType } from 'Type/Account.type';\nimport history from 'Util/History';\nimport { appendWithStoreCode } from 'Util/Url';\n\nimport MyAccountCustomerTable from './MyAccountCustomerTable.component';\n\n/** @namespace Component/MyAccountCustomerTable/Container */\nexport class MyAccountCustomerTableContainer extends PureComponent {\n    static propTypes = {\n        customer: CustomerType.isRequired,\n        title: PropTypes.string\n    };\n\n    static defaultProps = {\n        title: ''\n    };\n\n    containerFunctions = {\n        handleOnEditPassword: this.handleOnEditPassword.bind(this),\n        handleOnEditInformation: this.handleOnEditInformation.bind(this)\n    };\n\n    containerProps() {\n        const {\n            customer,\n            title\n        } = this.props;\n\n        return {\n            customer,\n            title\n        };\n    }\n\n    handleOnEditPassword() {\n        history.push({\n            pathname: appendWithStoreCode(ACCOUNT_INFORMATION_EDIT_URL),\n            state: { editPassword: true }\n        });\n    }\n\n    handleOnEditInformation() {\n        history.push({ pathname: appendWithStoreCode(ACCOUNT_INFORMATION_EDIT_URL) });\n    }\n\n    render() {\n        return (\n            <MyAccountCustomerTable\n              { ...this.containerProps() }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default MyAccountCustomerTableContainer;\n"],"sourceRoot":""}