{"version":3,"file":"static/js/product-gallery.chunk.js","sources":["/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CarouselScroll/CarouselScroll.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CarouselScroll/CarouselScroll.config.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CarouselScroll/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CarouselScrollArrow/CarouselScrollArrow.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CarouselScrollArrow/CarouselScrollArrow.container.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CarouselScrollArrow/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CarouselScrollItem/CarouselScrollItem.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CarouselScrollItem/CarouselScrollItem.container.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/CarouselScrollItem/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/Draggable/Draggable.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/Draggable/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ImageZoomPopup/ImageZoomPopup.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ImageZoomPopup/ImageZoomPopup.container.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ImageZoomPopup/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/Popup/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGallery/ProductGallery.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGallery/ProductGallery.config.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGallery/ProductGallery.container.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGallery/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGalleryBaseImage/ProductGalleryBaseImage.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGalleryBaseImage/ProductGalleryBaseImage.config.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGalleryBaseImage/ProductGalleryBaseImage.container.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGalleryBaseImage/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGalleryThumbnailImage/ProductGalleryThumbnailImage.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/ProductGalleryThumbnailImage/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/Slider/Slider.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/Slider/Slider.config.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/Slider/Slider.container.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/Slider/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/TranslateOnCursorMove/TranslateOnCursorMove.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/TranslateOnCursorMove/TranslateOnCursorMove.container.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/TranslateOnCursorMove/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/VideoPopup/VideoPopup.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/VideoPopup/VideoPopup.config.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/VideoPopup/VideoPopup.container.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/VideoPopup/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/VideoThumbnail/VideoThumbnail.component.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/VideoThumbnail/VideoThumbnail.container.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/component/VideoThumbnail/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/util/Media/Media.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/@scandipwa/scandipwa/src/util/Media/index.js","/Users/mariasulezko/PhpStormProject/test/my-app/scandipwa/node_modules/react-zoom-pan-pinch/dist/index.es.js"],"sourcesContent":["/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport { CAROUSEL_ITEM_GAP } from 'Component/CarouselScroll/CarouselScroll.config';\nimport CarouselScrollArrow from 'Component/CarouselScrollArrow';\nimport CarouselScrollItem from 'Component/CarouselScrollItem';\nimport { ChildrenType } from 'Type/Common.type';\nimport { noopFn } from 'Util/Common';\nimport CSS from 'Util/CSS';\nimport { isRtl } from 'Util/CSS/CSS';\n\nimport './CarouselScroll.style';\n\n/** @namespace Component/CarouselScroll/Component */\nexport class CarouselScroll extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        showArrow: PropTypes.bool,\n        showedItemCount: PropTypes.number,\n        onChange: PropTypes.func,\n        activeItemId: PropTypes.number,\n        isImageZoomPopupActive: PropTypes.bool\n    };\n\n    static defaultProps = {\n        showArrow: true,\n        showedItemCount: 1,\n        onChange: noopFn,\n        activeItemId: null,\n        isImageZoomPopupActive: false\n    };\n\n    state = {\n        activeItemId: 0,\n        firstCarouselItemId: 0\n    };\n\n    itemRef = createRef();\n\n    carouselRef = createRef();\n\n    handleArrowClick = this.handleArrowClick.bind(this);\n\n    handleChange = this.handleChange.bind(this);\n\n    componentDidMount() {\n        const { showedItemCount } = this.props;\n\n        const margin = CAROUSEL_ITEM_GAP;\n        const width = this.getCarouselWidth(showedItemCount);\n\n        CSS.setVariable(this.carouselRef, 'carousel-scroll-gap', `${margin}px`);\n        CSS.setVariable(this.carouselRef, 'carousel-width', width);\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            children: { length: prevChildrenLength },\n            showedItemCount: prevShowedItemCount\n        } = prevProps;\n\n        const {\n            activeItemId,\n            children: { length: childrenLength },\n            showedItemCount\n        } = this.props;\n\n        const { activeItemId: prevActiveItemId } = this.state;\n\n        if (prevChildrenLength !== childrenLength) {\n            this.handleReset();\n\n            return;\n        }\n\n        if (activeItemId !== null && activeItemId !== prevActiveItemId) {\n            this.handleChange(activeItemId);\n        }\n\n        if (prevShowedItemCount !== showedItemCount) {\n            const width = this.getCarouselWidth(showedItemCount);\n\n            CSS.setVariable(this.carouselRef, 'carousel-width', width);\n            this.updateFirstSlide();\n        }\n    }\n\n    updateFirstSlide() {\n        const { firstCarouselItemId } = this.state;\n\n        const maxId = this.getMaxFirstItemId();\n\n        if (firstCarouselItemId > maxId) {\n            this.setTranslate(maxId);\n            this.setState({ firstCarouselItemId: maxId });\n        }\n    }\n\n    getCarouselWidth(showedItemCount) {\n        const margin = CAROUSEL_ITEM_GAP;\n        const { offsetWidth: cardWidth } = this.itemRef.current;\n\n        return `${ (margin + cardWidth) * showedItemCount - margin }px`;\n    }\n\n    getNextTranslate(nextId) {\n        const { offsetWidth } = this.itemRef.current;\n        const multiplier = isRtl() ? nextId : -nextId;\n\n        return `${ multiplier * (offsetWidth + CAROUSEL_ITEM_GAP) }px`;\n    }\n\n    setTranslate(nextId) {\n        const translate = this.getNextTranslate(nextId);\n\n        CSS.setVariable(this.carouselRef, 'translateX', translate);\n    }\n\n    getMaxFirstItemId() {\n        const { children: { length: childrenLength }, showedItemCount } = this.props;\n\n        return Math.max(childrenLength - showedItemCount, 0);\n    }\n\n    getNewCarouselItemId(isNextArrow) {\n        const { showedItemCount } = this.props;\n        const { firstCarouselItemId: prevFirstCarouselItemId } = this.state;\n\n        const scrollStep = Math.ceil(showedItemCount / 2);\n\n        return isNextArrow\n            ? Math.min(prevFirstCarouselItemId + scrollStep, this.getMaxFirstItemId())\n            : Math.max(prevFirstCarouselItemId - scrollStep, 0);\n    }\n\n    handleArrowClick(isNextArrow) {\n        const firstCarouselItemId = this.getNewCarouselItemId(isNextArrow);\n\n        this.setTranslate(firstCarouselItemId);\n        this.setState({ firstCarouselItemId });\n    }\n\n    handleChange(nextId) {\n        const { onChange, showedItemCount } = this.props;\n        const { firstCarouselItemId } = this.state;\n\n        onChange(nextId);\n        this.setState({ activeItemId: nextId });\n\n        if (nextId < firstCarouselItemId || nextId >= firstCarouselItemId + showedItemCount) {\n            const newId = Math.min(this.getMaxFirstItemId(), nextId);\n\n            this.setTranslate(newId);\n            this.setState({ firstCarouselItemId: newId });\n        }\n    }\n\n    handleReset() {\n        const { onChange } = this.props;\n\n        const activeItemId = 0;\n\n        CSS.setVariable(this.carouselRef, 'translateX', 0);\n\n        onChange(activeItemId);\n        this.setState({ activeItemId });\n    }\n\n    renderArrow(isNextArrow = false) {\n        const { showArrow, children: { length: childrenLength }, showedItemCount } = this.props;\n        const { firstCarouselItemId } = this.state;\n\n        if (!showArrow || childrenLength <= showedItemCount) {\n            return null;\n        }\n\n        // render hidden arrow to avoid carousel jumping on error hide/appear\n        const isInvisible = (!isNextArrow && firstCarouselItemId === 0)\n            || (isNextArrow && firstCarouselItemId >= this.getMaxFirstItemId());\n\n        return (\n            <CarouselScrollArrow\n              isNextArrow={ isNextArrow }\n              onClick={ this.handleArrowClick }\n              isInvisible={ isInvisible }\n            />\n        );\n    }\n\n    renderContentItem(child, key) {\n        const { activeItemId } = this.state;\n\n        return (\n            <CarouselScrollItem\n              key={ key }\n              position={ key }\n              onClick={ this.handleChange }\n              itemRef={ this.itemRef }\n              isActive={ key === activeItemId }\n            >\n                { child }\n            </CarouselScrollItem>\n        );\n    }\n\n    renderContent() {\n        const { children, isImageZoomPopupActive } = this.props;\n\n        return (\n            <div block=\"CarouselScroll\" elem=\"ContentWrapper\" mods={ { isImageZoomPopupActive } }>\n                <div block=\"CarouselScroll\" elem=\"Content\">\n                    { children.map(this.renderContentItem.bind(this)) }\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div block=\"CarouselScroll\" ref={ this.carouselRef }>\n                { this.renderArrow() }\n                { this.renderContent() }\n                { this.renderArrow(true) }\n            </div>\n        );\n    }\n}\n\nexport default CarouselScroll;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport const CAROUSEL_ITEM_GAP = 18;\nexport const CAROUSEL_ITEM_WIDTH = 55;\nexport const ARROW_SAFE_AREA = 25;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nexport { default } from './CarouselScroll.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport ChevronIcon from 'Component/ChevronIcon';\nimport { ModsType } from 'Type/Common.type';\nimport { noopFn } from 'Util/Common';\n\nimport './CarouselScrollArrow.style';\n\n/** @namespace Component/CarouselScrollArrow/Component */\nexport class CarouselScrollArrow extends PureComponent {\n    static propTypes = {\n        mods: ModsType,\n        onClick: PropTypes.func\n    };\n\n    static defaultProps = {\n        mods: {},\n        onClick: noopFn\n    };\n\n    render() {\n        const { mods, onClick } = this.props;\n\n        return (\n            <button\n              block=\"CarouselScrollArrow\"\n              mods={ mods }\n              onClick={ onClick }\n              aria-label=\"Arrow\"\n            >\n                <ChevronIcon />\n            </button>\n        );\n    }\n}\n\nexport default CarouselScrollArrow;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport CarouselScrollArrow from './CarouselScrollArrow.component';\n\n/** @namespace Component/CarouselScrollArrow/Container */\nexport class CarouselScrollArrowContainer extends PureComponent {\n    static propTypes = {\n        isNextArrow: PropTypes.bool.isRequired,\n        onClick: PropTypes.func.isRequired,\n        isInvisible: PropTypes.bool.isRequired\n    };\n\n    containerFunctions = {\n        onClick: this.onClick.bind(this)\n    };\n\n    containerProps() {\n        const { isNextArrow, isInvisible } = this.props;\n\n        return {\n            mods: {\n                isNextArrow,\n                isInvisible\n            }\n        };\n    }\n\n    onClick() {\n        const { onClick, isNextArrow } = this.props;\n\n        onClick(isNextArrow);\n    }\n\n    render() {\n        return (\n            <CarouselScrollArrow\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default CarouselScrollArrowContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nexport { default } from './CarouselScrollArrow.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType, RefType } from 'Type/Common.type';\n\nimport './CarouselScrollItem.style';\n\n/** @namespace Component/CarouselScrollItem/Component */\nexport class CarouselScrollItem extends PureComponent {\n    static propTypes = {\n        isActive: PropTypes.bool.isRequired,\n        itemRef: RefType.isRequired,\n        onClick: PropTypes.func.isRequired,\n        children: ChildrenType.isRequired\n    };\n\n    render() {\n        const {\n            isActive,\n            itemRef,\n            onClick,\n            children\n        } = this.props;\n\n        return (\n            <div\n              role=\"button\"\n              tabIndex={ 0 }\n              block=\"CarouselScrollItem\"\n              mods={ { isActive } }\n              ref={ itemRef }\n              onClick={ onClick }\n              onKeyDown={ onClick }\n            >\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default CarouselScrollItem;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType, RefType } from 'Type/Common.type';\nimport { noopFn } from 'Util/Common';\n\nimport CarouselScrollItem from './CarouselScrollItem.component';\n\n/** @namespace Component/CarouselScrollItem/Container */\nexport class CarouselScrollItemContainer extends PureComponent {\n    static propTypes = {\n        isActive: PropTypes.bool,\n        itemRef: RefType,\n        onClick: PropTypes.func,\n        children: ChildrenType,\n        position: PropTypes.number.isRequired\n    };\n\n    static defaultProps = {\n        isActive: false,\n        itemRef: noopFn,\n        onClick: noopFn,\n        children: []\n    };\n\n    containerFunctions = {\n        onClick: this.onClick.bind(this)\n    };\n\n    containerProps() {\n        const {\n            isActive,\n            itemRef,\n            children\n        } = this.props;\n\n        return {\n            isActive,\n            itemRef,\n            children\n        };\n    }\n\n    onClick() {\n        const { onClick, position } = this.props;\n\n        onClick(position);\n    }\n\n    render() {\n        return (\n            <CarouselScrollItem\n              { ...this.containerFunctions }\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default CarouselScrollItemContainer;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nexport { default } from './CarouselScrollItem.container';\n","/* eslint-disable react/no-unused-state */\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { ChildrenType, MixType, RefType } from 'Type/Common.type';\nimport { noopFn } from 'Util/Common';\n\nimport './Draggable.style';\n\n/** @namespace Component/Draggable/Component */\nexport class Draggable extends PureComponent {\n    static propTypes = {\n        shiftX: PropTypes.number,\n        shiftY: PropTypes.number,\n        onDragStart: PropTypes.func,\n        onClick: PropTypes.func,\n        onDragEnd: PropTypes.func,\n        handleFocus: PropTypes.func,\n        handleKey: PropTypes.func,\n        onDrag: PropTypes.func,\n        children: ChildrenType.isRequired,\n        mix: MixType,\n        draggableRef: RefType\n    };\n\n    static defaultProps = {\n        shiftX: 0,\n        shiftY: 0,\n        onDragStart: noopFn,\n        onDragEnd: (state, callback) => {\n            const { translateX, translateY } = state;\n\n            callback({\n                originalX: 0,\n                originalY: 0,\n                shiftX: translateX,\n                shiftY: translateY\n            });\n        },\n        onClick: noopFn,\n        onDrag: noopFn,\n        handleFocus: noopFn,\n        handleKey: noopFn,\n        draggableRef: noopFn,\n        mix: {}\n    };\n\n    state = {\n        isDragging: false,\n        originalX: 0,\n        translateX: 0,\n        lastTranslateX: 0,\n        originalY: 0,\n        translateY: 0,\n        lastTranslateY: 0\n    };\n\n    handleTouchStart = this.handleTouchStart.bind(this);\n\n    handleMouseDown = this.handleMouseDown.bind(this);\n\n    handleTouchMove = this.handleTouchMove.bind(this);\n\n    handleClick = this.handleClick.bind(this);\n\n    handleTouchEnd = this.handleTouchEnd.bind(this);\n\n    handleMouseUp = this.handleMouseUp.bind(this);\n\n    handleMouseMove = this.handleMouseMove.bind(this);\n\n    handleDragEnd = this.handleDragEnd.bind(this);\n\n    static getDerivedStateFromProps(props, state) {\n        const { shiftX, shiftY } = props;\n        const { lastTranslateX, lastTranslateY } = state;\n\n        if (shiftX !== lastTranslateX || shiftY !== lastTranslateY) {\n            return {\n                lastTranslateX: shiftX,\n                lastTranslateY: shiftY\n            };\n        }\n\n        return null;\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n    }\n\n    handleTouchStart({ touches }) {\n        window.addEventListener('touchmove', this.handleTouchMove);\n        window.addEventListener('touchend', this.handleTouchEnd);\n\n        if (touches.length === 1) {\n            this.handleDragStart(touches[0]);\n        }\n    }\n\n    handleMouseDown(event) {\n        window.addEventListener('mousemove', this.handleMouseMove);\n        window.addEventListener('mouseup', this.handleMouseUp);\n\n        event.preventDefault();\n        this.handleDragStart(event);\n    }\n\n    handleTouchMove({ touches }) {\n        if (touches.length === 1) {\n            this.handleMouseMove(touches[0]);\n        }\n    }\n\n    handleMouseMove({ clientX, clientY }) {\n        const { isDragging } = this.state;\n        const { shiftX, shiftY } = this.props;\n\n        if (!isDragging) {\n            return;\n        }\n\n        this.setState(({\n            originalX,\n            originalY\n        }) => ({\n            translateX: clientX - originalX + shiftX,\n            translateY: clientY - originalY + shiftY\n        }), () => {\n            const { onDrag } = this.props;\n\n            if (onDrag) {\n                onDrag({ ...this.state, clientX, clientY });\n            }\n        });\n    }\n\n    handleTouchEnd() {\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n\n        this.handleDragEnd();\n    }\n\n    handleMouseUp() {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n\n        this.handleDragEnd();\n    }\n\n    handleClick(event) {\n        const { onClick } = this.props;\n\n        if (onClick) {\n            onClick(\n                this.state,\n                (newState) => this.setState({\n                    ...newState,\n                    isDragging: false,\n                    translateX: 0,\n                    translateY: 0\n                }),\n                event\n            );\n        }\n    }\n\n    handleDragStart({\n        clientX,\n        clientY\n    }) {\n        const { onDragStart } = this.props;\n\n        if (onDragStart) {\n            onDragStart();\n        }\n\n        this.setState({\n            originalX: clientX,\n            originalY: clientY,\n            isDragging: true\n        });\n    }\n\n    handleDragEnd() {\n        const { onDragEnd } = this.props;\n\n        onDragEnd(this.state, (newState) => this.setState({\n            ...newState,\n            isDragging: false,\n            translateX: 0,\n            translateY: 0\n        }));\n\n        // TO STAY WHERE RELEASED\n        // originalX: 0,\n        // lastTranslateX: translateX,\n        // originalY: 0,\n        // lastTranslateY: translateY,\n\n        // TO RETURN INTO INITIAL\n        // originalX: 0,\n        // lastTranslateX: 0\n        // originalY: 0,\n        // lastTranslateY: 0\n    }\n\n    render() {\n        const {\n            children,\n            handleFocus,\n            handleKey,\n            draggableRef,\n            mix\n        } = this.props;\n\n        return (\n            <div\n              block=\"Draggable\"\n              mix={ mix }\n              ref={ draggableRef }\n              onMouseDown={ this.handleMouseDown }\n              onTouchStart={ this.handleTouchStart }\n              onClick={ this.handleClick }\n              onContextMenu={ this.handleClick }\n              onKeyDown={ handleKey }\n              onFocus={ handleFocus }\n              tabIndex={ 0 }\n              role=\"button\"\n              aria-label=\"Draggable area\"\n            >\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default Draggable;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './Draggable.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport TranslateOnCursorMove from 'Component/TranslateOnCursorMove';\nimport { ChildrenType } from 'Type/Common.type';\n\nimport './ImageZoomPopup.style';\n\n/** @namespace Component/ImageZoomPopup/Component */\nexport class ImageZoomPopup extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        activeImageId: PropTypes.number.isRequired\n    };\n\n    render() {\n        const {\n            children,\n            activeImageId\n        } = this.props;\n\n        return (\n            <div block=\"ImageZoomPopup\">\n                <TranslateOnCursorMove\n                  activeImageId={ activeImageId }\n                  itemSelector=\".ProductGallery-SliderImage, .VideoThumbnail\"\n                  targetSelector=\".Image-Image\"\n                >\n                    { children }\n                </TranslateOnCursorMove>\n            </div>\n        );\n    }\n}\n\nexport default ImageZoomPopup;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport Popup from 'Component/Popup';\nimport { hideActiveOverlay } from 'Store/Overlay/Overlay.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { ChildrenType, MixType } from 'Type/Common.type';\nimport { noopFn } from 'Util/Common';\n\nimport ImageZoomPopup from './ImageZoomPopup.component';\n\n/** @namespace Component/ImageZoomPopup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isMobile: state.ConfigReducer.device.isMobile\n});\n\n/** @namespace Component/ImageZoomPopup/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (id, payload) => dispatch(showPopup(id, payload)),\n    hideActiveOverlay: () => dispatch(hideActiveOverlay())\n});\n\n/** @namespace Component/ImageZoomPopup/Container */\nexport class ImageZoomPopupContainer extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        hideActiveOverlay: PropTypes.func.isRequired,\n        onClose: PropTypes.func,\n        popupId: PropTypes.string.isRequired,\n        isActive: PropTypes.bool.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        activeImageId: PropTypes.number.isRequired,\n        mix: MixType\n    };\n\n    static defaultProps = {\n        onClose: noopFn,\n        mix: {}\n    };\n\n    componentDidUpdate(prevProps) {\n        const { isActive: prevIsActive, popupId } = prevProps;\n        const { isActive, showPopup } = this.props;\n\n        if (prevIsActive !== isActive && isActive) {\n            showPopup(popupId, {});\n        }\n    }\n\n    containerProps() {\n        const {\n            children,\n            activeImageId\n        } = this.props;\n\n        return {\n            children,\n            activeImageId\n        };\n    }\n\n    render() {\n        const {\n            isActive,\n            children,\n            mix,\n            popupId,\n            isMobile,\n            onClose\n        } = this.props;\n\n        if (!isActive || isMobile) {\n            return children;\n        }\n\n        return (\n            <Popup\n              id={ popupId }\n              clickOutside={ false }\n              mix={ { block: 'ImageZoomPopup', mix } }\n              contentMix={ { block: 'ImageZoomPopup', elem: 'PopupContent' } }\n              onClose={ onClose }\n              onHide={ onClose }\n            >\n                <ImageZoomPopup\n                  { ...this.containerProps() }\n                />\n            </Popup>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageZoomPopupContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './ImageZoomPopup.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './Popup.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\nimport { withRouter } from 'react-router';\nimport { TransformWrapper } from 'react-zoom-pan-pinch';\n\nimport CarouselScroll from 'Component/CarouselScroll';\nimport {\n    ARROW_SAFE_AREA,\n    CAROUSEL_ITEM_GAP,\n    CAROUSEL_ITEM_WIDTH\n} from 'Component/CarouselScroll/CarouselScroll.config';\nimport Image from 'Component/Image';\nimport ProductGalleryBaseImage from 'Component/ProductGalleryBaseImage';\nimport ProductGalleryThumbnailImage from 'Component/ProductGalleryThumbnailImage';\nimport Slider from 'Component/Slider';\nimport VideoPopup from 'Component/VideoPopup';\nimport VideoThumbnail from 'Component/VideoThumbnail';\nimport { RefType } from 'Type/Common.type';\nimport { LocationType } from 'Type/Router.type';\nimport CSS from 'Util/CSS';\n\nimport {\n    IMAGE_TYPE,\n    MAX_ZOOM_SCALE,\n    PLACEHOLDER_TYPE,\n    VIDEO_TYPE\n} from './ProductGallery.config';\n\nimport './ProductGallery.style';\n\n/**\n * Product gallery\n * @class ProductGallery\n * @namespace Component/ProductGallery/Component\n */\nexport class ProductGallery extends PureComponent {\n    static propTypes = {\n        gallery: PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.oneOfType([\n                    PropTypes.number,\n                    PropTypes.string\n                ]),\n                image: PropTypes.string,\n                isPlaceholder: PropTypes.bool,\n                alt: PropTypes.string,\n                type: PropTypes.string,\n                media_type: PropTypes.string\n            })\n        ).isRequired,\n        productId: PropTypes.number,\n        isZoomEnabled: PropTypes.bool.isRequired,\n        activeImage: PropTypes.number.isRequired,\n        onActiveImageChange: PropTypes.func.isRequired,\n        handleZoomChange: PropTypes.func.isRequired,\n        registerSharedElementDestination: PropTypes.func.isRequired,\n        disableZoom: PropTypes.func.isRequired,\n        location: LocationType.isRequired,\n        sliderRef: RefType.isRequired,\n        handleImageZoomPopupActiveChange: PropTypes.func.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        isImageZoomPopupActive: PropTypes.bool.isRequired,\n        isWithEmptySwitcher: PropTypes.bool.isRequired,\n        showLoader: PropTypes.bool.isRequired\n    };\n\n    static defaultProps = {\n        productId: 0\n    };\n\n    maxScale = MAX_ZOOM_SCALE;\n\n    imageRef = createRef();\n\n    galleryRef = createRef();\n\n    state = {\n        scrollEnabled: true,\n        slidesCount: 7,\n        prevZoom: false\n    };\n\n    handleSliderClick = this.handleSliderClick.bind(this);\n\n    calculateGallerySize = this._calculateGallerySize.bind(this);\n\n    onWheel = this.onWheel.bind(this);\n\n    __construct(props, context) {\n        super.__construct(props, context);\n        this.renderSlide = this.renderSlide.bind(this);\n    }\n\n    componentDidMount() {\n        this.updateSharedDestinationElement();\n        window.addEventListener('resize', this.calculateGallerySize);\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            productId,\n            location: { pathname },\n            sliderRef,\n            isImageZoomPopupActive\n        } = this.props;\n\n        const {\n            productId: prevProductId,\n            location: { pathname: prevPathname }\n        } = prevProps;\n\n        const { prevZoom } = this.state;\n\n        if (productId !== prevProductId) {\n            this.updateSharedDestinationElement();\n        }\n\n        if (sliderRef?.current?.draggableRef && pathname !== prevPathname) {\n            CSS.setVariable(\n                sliderRef.current.draggableRef,\n                'animation-speed',\n                0\n            );\n        }\n\n        if (isImageZoomPopupActive !== prevZoom) {\n            this.handleZoomChange(isImageZoomPopupActive);\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.calculateGallerySize);\n    }\n\n    handleZoomChange(prevZoom) {\n        setTimeout(this.calculateGallerySize, 0);\n        this.setState({ prevZoom });\n    }\n\n    _calculateGallerySize() {\n        const { isMobile } = this.props;\n        const ref = this.galleryRef.current;\n\n        if (!ref || isMobile) {\n            return;\n        }\n        const { width } = ref.getBoundingClientRect();\n\n        const slidesCount = Math.floor((width - ARROW_SAFE_AREA * 2) / (CAROUSEL_ITEM_WIDTH + CAROUSEL_ITEM_GAP));\n\n        this.setState({ slidesCount });\n    }\n\n    handleSliderClick() {\n        const {\n            handleImageZoomPopupActiveChange,\n            gallery,\n            activeImage\n        } = this.props;\n\n        const { media_type } = gallery[activeImage];\n\n        if (media_type === VIDEO_TYPE) {\n            return;\n        }\n\n        handleImageZoomPopupActiveChange(true);\n    }\n\n    updateSharedDestinationElement() {\n        const { registerSharedElementDestination } = this.props;\n\n        registerSharedElementDestination(this.imageRef);\n    }\n\n    renderAdditionalPicture(media, index = 0) {\n        return (\n            <ProductGalleryThumbnailImage\n              key={ index }\n              media={ media }\n            />\n        );\n    }\n\n    /**\n     * Renders a video thumbnail which opens popup player on click/tap\n     * @param media\n     * @param index\n     * @returns {*}\n     * @private\n     */\n    renderVideo(media, index) {\n        const { isImageZoomPopupActive, handleImageZoomPopupActiveChange } = this.props;\n\n        return (\n            <VideoThumbnail\n              key={ index }\n              media={ media }\n              isVideoZoomed={ isImageZoomPopupActive }\n              onZoomedVideoClick={ handleImageZoomPopupActiveChange }\n            />\n        );\n    }\n\n    renderPlaceholder(index) {\n        return (\n            <Image\n              key={ index }\n              ratio=\"custom\"\n              mix={ {\n                  block: 'ProductGallery',\n                  elem: 'SliderImage',\n                  mods: { isPlaceholder: true }\n              } }\n              isPlaceholder\n            />\n        );\n    }\n\n    stopScrolling() {\n        this.setState({ scrollEnabled: false });\n        this.timeout = setTimeout(() => {\n            this.setState({ scrollEnabled: true });\n            this.timeout = null;\n\n            // 20 ms is time give to scroll down, usually that is enough\n            // eslint-disable-next-line no-magic-numbers\n        }, 20);\n    }\n\n    onWheel(zoomState) {\n        const { scale } = zoomState;\n\n        if (this.timeout) {\n            return;\n        }\n\n        if (scale === 1 || scale === MAX_ZOOM_SCALE) {\n            this.stopScrolling();\n        }\n    }\n\n    /**\n     * Renders a product image to be displayed in the gallery\n     * @param mediaData\n     * @param index\n     * @returns {*}\n     * @private\n     */\n    renderImage(mediaData, index) {\n        const {\n            isZoomEnabled,\n            handleZoomChange,\n            disableZoom,\n            isMobile,\n            isImageZoomPopupActive,\n            showLoader\n        } = this.props;\n        const { scrollEnabled } = this.state;\n\n        if (!isMobile) {\n            const {\n                base: { url: baseSrc } = {},\n                large: { url: largeSrc } = {}\n            } = mediaData;\n\n            const style = isImageZoomPopupActive ? { height: 'auto' } : {};\n            const src = isImageZoomPopupActive ? largeSrc || baseSrc : baseSrc;\n\n            return (\n                <Image\n                  key={ index }\n                  src={ src }\n                  ratio=\"custom\"\n                  mix={ {\n                      block: 'ProductGallery',\n                      elem: 'SliderImage',\n                      mods: { isPlaceholder: !src }\n                  } }\n                  isPlaceholder={ !src }\n                  style={ style }\n                  showIsLoading={ showLoader }\n                />\n            );\n        }\n\n        return (\n            <TransformWrapper\n              key={ index }\n              onZoomChange={ handleZoomChange }\n              onWheelStart={ this.onWheelStart }\n              onWheel={ this.onWheel }\n              wheel={ { limitsOnWheel: true, disabled: !scrollEnabled } }\n            //   doubleClick={ { mode: 'reset' } }\n              pan={ {\n                  disabled: !isZoomEnabled,\n                  limitToWrapperBounds: true,\n                  velocity: false\n              } }\n              options={ {\n                  limitToBounds: true,\n                  minScale: 1\n              } }\n            >\n                { ({\n                    scale,\n                    previousScale,\n                    resetTransform,\n                    setTransform\n                }) => {\n                    if (scale === 1 && previousScale !== 1) {\n                        resetTransform();\n                    }\n\n                    return (\n                        <ProductGalleryBaseImage\n                          setTransform={ setTransform }\n                          index={ index }\n                          mediaData={ mediaData }\n                          scale={ scale }\n                          previousScale={ previousScale }\n                          disableZoom={ disableZoom }\n                          isZoomEnabled={ isZoomEnabled }\n                        />\n                    );\n                } }\n            </TransformWrapper>\n        );\n    }\n\n    /**\n     * Checks for the type of the slide and renders it accordingly\n     * @param media\n     * @param index\n     * @returns {null|*}\n     */\n    renderSlide(media, index) {\n        const { media_type } = media;\n\n        switch (media_type) {\n        case IMAGE_TYPE:\n            return this.renderImage(media, index);\n        case VIDEO_TYPE:\n            return this.renderVideo(media, index);\n        case PLACEHOLDER_TYPE:\n            return this.renderPlaceholder(index);\n        default:\n            return null;\n        }\n    }\n\n    renderAdditionalPictures() {\n        const {\n            gallery,\n            isImageZoomPopupActive,\n            activeImage,\n            onActiveImageChange,\n            isWithEmptySwitcher\n        } = this.props;\n\n        const { slidesCount } = this.state;\n\n        if (gallery.length === 1) {\n            return <div block=\"ProductGallery\" elem=\"Additional\" mods={ { isWithEmptySwitcher } } />;\n        }\n\n        return (\n            <div block=\"ProductGallery\" elem=\"Additional\" mods={ { isImageZoomPopupActive } }>\n                <CarouselScroll\n                  activeItemId={ activeImage }\n                  onChange={ onActiveImageChange }\n                  showedItemCount={ slidesCount }\n                  isImageZoomPopupActive={ isImageZoomPopupActive }\n                >\n                    { gallery.map(this.renderAdditionalPicture.bind(this)) }\n                </CarouselScroll>\n            </div>\n        );\n    }\n\n    getImageUrl() {\n        const {\n            gallery: [\n                {\n                    thumbnail: {\n                        url = ''\n                    } = {}\n                }\n            ] = []\n        } = this.props;\n\n        return url;\n    }\n\n    renderSlider() {\n        const {\n            gallery,\n            activeImage,\n            isZoomEnabled,\n            onActiveImageChange,\n            isImageZoomPopupActive,\n            sliderRef,\n            isMobile\n        } = this.props;\n\n        const mods = {\n            isImageZoomPopupActive,\n            isZoomInCursor: !isImageZoomPopupActive\n        };\n\n        const isMoreThanOnePhoto = gallery.length > 1;\n\n        return (\n            <div\n              ref={ this.imageRef }\n              block=\"ProductGallery\"\n              elem=\"SliderWrapper\"\n            >\n                <meta itemProp=\"image\" content={ this.getImageUrl() } />\n                <Slider\n                  sliderRef={ sliderRef }\n                  mix={ { block: 'ProductGallery', elem: 'Slider', mods } }\n                  showCounter={ isMobile }\n                  showArrows={ !isMobile && isMoreThanOnePhoto }\n                  activeImage={ activeImage }\n                  onActiveImageChange={ onActiveImageChange }\n                  isInteractionDisabled={ isZoomEnabled }\n                  onClick={ this.handleSliderClick }\n                  sliderHeight={ isImageZoomPopupActive ? '100%' : 0 }\n                  isHeightTransitionDisabledOnMount\n                >\n                    { gallery.map(this.renderSlide) }\n                </Slider>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div block=\"ProductGallery\" ref={ this.galleryRef }>\n                { this.renderSlider() }\n                { this.renderAdditionalPictures() }\n                <VideoPopup />\n            </div>\n        );\n    }\n}\n\nexport default withRouter(ProductGallery);\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport const MAX_ZOOM_SCALE = 8;\n\nexport const IMAGE_TYPE = 'image';\nexport const VIDEO_TYPE = 'external-video';\nexport const PLACEHOLDER_TYPE = 'placeholder';\n\nexport const THUMBNAIL_KEY = 'small_image';\nexport const AMOUNT_OF_PLACEHOLDERS = 0;\n\nexport const PRODUCT_GALERY_POPUP_ID = 'ProductGalleryPopup';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Subscribe } from 'unstated';\n\nimport ImageZoomPopup from 'Component/ImageZoomPopup';\nimport PRODUCT_TYPE from 'Component/Product/Product.config';\nimport SharedTransitionContainer from 'Component/SharedTransition/SharedTransition.unstated';\nimport { ProductType } from 'Type/ProductList.type';\nimport { cacheImages } from 'Util/Cache/Cache';\n\nimport ProductGallery from './ProductGallery.component';\nimport {\n    AMOUNT_OF_PLACEHOLDERS,\n    IMAGE_TYPE,\n    PRODUCT_GALERY_POPUP_ID,\n    THUMBNAIL_KEY\n} from './ProductGallery.config';\n\n/** @namespace Component/ProductGallery/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isMobile: state.ConfigReducer.device.isMobile\n});\n\n/** @namespace Component/ProductGallery/Container/mapDispatchToProps */\nexport const mapDispatchToProps = () => ({});\n\n/** @namespace Component/ProductGallery/Container */\nexport class ProductGalleryContainer extends PureComponent {\n    static propTypes = {\n        product: ProductType.isRequired,\n        areDetailsLoaded: PropTypes.bool,\n        isMobile: PropTypes.bool.isRequired,\n        isZoomEnabled: PropTypes.bool,\n        showLoader: PropTypes.bool,\n\n        // Renders empty image switcher, so that when changing active product, transaction\n        // between images is not jumping, when parent has multiple images, but child only one\n        isWithEmptySwitcher: PropTypes.bool\n    };\n\n    static defaultProps = {\n        areDetailsLoaded: false,\n        isZoomEnabled: false,\n        isWithEmptySwitcher: false,\n        showLoader: false\n    };\n\n    sliderRef = createRef();\n\n    containerFunctions = {\n        onActiveImageChange: this.onActiveImageChange.bind(this),\n        handleZoomChange: this.handleZoomChange.bind(this),\n        disableZoom: this.disableZoom.bind(this),\n        handleImageZoomPopupActiveChange: this.handleImageZoomPopupActiveChange.bind(this)\n    };\n\n    handleImageZoomPopupClose = this.handleImageZoomPopupClose.bind(this);\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { product: { id } = {} } = props;\n\n        this.state = {\n            activeImage: this.getBaseImage(),\n            isZoomEnabled: false,\n            prevProdId: id,\n            isImageZoomPopupActive: false\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const { product: { id } } = props;\n        const { prevProdId, activeImage } = state;\n\n        if (prevProdId === id) {\n            return null;\n        }\n\n        return { prevProdId: id, activeImage };\n    }\n\n    componentDidMount() {\n        this.cacheImages();\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            product: { media_gallery_entries: mediaGallery = [] },\n            isZoomEnabled,\n            areDetailsLoaded\n        } = this.props;\n        const { product: { media_gallery_entries: prevMediaGallery = [] }, isZoomEnabled: prevZoomEnabled } = prevProps;\n\n        if (mediaGallery !== prevMediaGallery || isZoomEnabled !== prevZoomEnabled) {\n            this.onActiveImageChange(this.getBaseImage());\n\n            if (areDetailsLoaded && mediaGallery.length > 0) {\n                this.cacheImages();\n            }\n        }\n    }\n\n    cacheImages() {\n        const {\n            product: {\n                type_id: type,\n                variants = []\n            }\n        } = this.props;\n\n        if (type !== PRODUCT_TYPE.configurable) {\n            return;\n        }\n\n        const urls = [];\n\n        variants.forEach(({ media_gallery_entries: mediaGallery = [] }) => {\n            if (mediaGallery.length > 0) {\n                const { base: { url } = {} } = mediaGallery[0];\n\n                urls.push(url);\n            }\n        });\n\n        cacheImages(urls);\n    }\n\n    handleImageZoomPopupActiveChange(isImageZoomPopupActive) {\n        const { isMobile } = this.props;\n\n        if (isMobile) {\n            return;\n        }\n\n        this.setState({ isImageZoomPopupActive });\n    }\n\n    onActiveImageChange(activeImage) {\n        this.setState({\n            activeImage: Math.abs(activeImage),\n            isZoomEnabled: false\n        });\n    }\n\n    getBaseImage() {\n        const {\n            product: {\n                media_gallery_entries: mediaGallery = []\n            }\n        } = this.props;\n\n        const baseImage = mediaGallery.find((value) => value.types.includes(IMAGE_TYPE));\n        const { position = 0 } = baseImage || {};\n\n        if (!mediaGallery.length) {\n            return 0;\n        }\n\n        const positionsArray = mediaGallery.reduce((acc, item) => {\n            const { position } = item;\n\n            acc.push(position);\n\n            return acc;\n        }, []).sort((a, b) => a - b);\n\n        const returnValue = positionsArray.findIndex((value) => value === position);\n\n        if (returnValue === -1) {\n            return 0;\n        }\n\n        return returnValue;\n    }\n\n    getGalleryPictures() {\n        const {\n            areDetailsLoaded,\n            product: {\n                media_gallery_entries: mediaGallery = [],\n                [THUMBNAIL_KEY]: { url: thumbnailUrl } = {},\n                [IMAGE_TYPE]: { url: imageTypeUrl } = {},\n                name\n            }\n        } = this.props;\n\n        const url = imageTypeUrl || thumbnailUrl;\n\n        if (mediaGallery.length) {\n            return mediaGallery\n                .filter(({ disabled }) => !disabled)\n                .sort((a, b) => a.position - b.position);\n        }\n\n        if (!url) {\n            return Array(AMOUNT_OF_PLACEHOLDERS + 1).fill({ media_type: 'placeholder' });\n        }\n\n        const placeholders = !areDetailsLoaded\n            ? Array(AMOUNT_OF_PLACEHOLDERS).fill({ media_type: 'placeholder' }) : [];\n\n        return [\n            {\n                thumbnail: { url },\n                base: { url },\n                id: THUMBNAIL_KEY,\n                label: name,\n                media_type: IMAGE_TYPE\n            },\n            ...placeholders\n        ];\n    }\n\n    containerProps() {\n        const { activeImage, isZoomEnabled, isImageZoomPopupActive } = this.state;\n        const {\n            product: { id },\n            isMobile,\n            isWithEmptySwitcher,\n            showLoader\n        } = this.props;\n\n        return {\n            gallery: this.getGalleryPictures(),\n            productName: this._getProductName(),\n            activeImage,\n            isZoomEnabled,\n            productId: id,\n            isMobile,\n            isImageZoomPopupActive,\n            sliderRef: this.sliderRef,\n            isWithEmptySwitcher,\n            showLoader\n        };\n    }\n\n    /**\n     * Returns the name of the product this gallery if for\n     * @private\n     */\n    _getProductName() {\n        const { product: { name = '' } } = this.props;\n\n        return name;\n    }\n\n    disableZoom() {\n        document.documentElement.classList.remove('overscrollPrevented');\n        this.setState({ isZoomEnabled: false });\n    }\n\n    handleZoomChange(args) {\n        const { isZoomEnabled } = this.state;\n\n        if (args.scale !== 1) {\n            if (isZoomEnabled) {\n                return;\n            }\n            document.documentElement.classList.add('overscrollPrevented');\n            this.setState({ isZoomEnabled: true });\n        }\n    }\n\n    handleImageZoomPopupClose() {\n        this.handleImageZoomPopupActiveChange(false);\n    }\n\n    render() {\n        const { isImageZoomPopupActive, activeImage } = this.state;\n\n        return (\n            <ImageZoomPopup\n              isActive={ isImageZoomPopupActive }\n              onClose={ this.handleImageZoomPopupClose }\n              activeImageId={ activeImage }\n              popupId={ PRODUCT_GALERY_POPUP_ID }\n            >\n                <Subscribe to={ [SharedTransitionContainer] }>\n                    { ({ registerSharedElementDestination }) => (\n                        <ProductGallery\n                          registerSharedElementDestination={ registerSharedElementDestination }\n                          { ...this.containerProps() }\n                          { ...this.containerFunctions }\n                        />\n                    ) }\n                </Subscribe>\n            </ImageZoomPopup>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductGalleryContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './ProductGallery.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { TransformComponent } from 'react-zoom-pan-pinch';\n\nimport Image from 'Component/Image';\n\n/** @namespace Component/ProductGalleryBaseImage/Component */\nexport class ProductGalleryBaseImage extends PureComponent {\n    static propTypes = {\n        src: PropTypes.string.isRequired,\n        alt: PropTypes.string.isRequired\n    };\n\n    render() {\n        const { src, alt } = this.props;\n\n        return (\n            <TransformComponent>\n                <Image\n                  src={ src }\n                  ratio=\"custom\"\n                  mix={ {\n                      block: 'ProductGallery',\n                      elem: 'SliderImage',\n                      mods: { isPlaceholder: !src }\n                  } }\n                  isPlaceholder={ !src }\n                  alt={ alt }\n                />\n                <img\n                  style={ { display: 'none' } }\n                  alt={ alt }\n                  src={ src }\n                  itemProp=\"image\"\n                />\n            </TransformComponent>\n        );\n    }\n}\n\nexport default ProductGalleryBaseImage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nexport const TRANSFORMATION_DELAY = 0;\nexport const TRANSFORMATION_SPEED = 0;\nexport const INITIAL_SCALE = 1;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport { LocationType } from 'Type/Router.type';\nimport media, { PRODUCT_MEDIA } from 'Util/Media/Media';\n\nimport ProductGallery from './ProductGalleryBaseImage.component';\nimport { INITIAL_SCALE, TRANSFORMATION_DELAY, TRANSFORMATION_SPEED } from './ProductGalleryBaseImage.config';\n\n/** @namespace Component/ProductGalleryBaseImage/Container */\nexport class ProductGalleryBaseImageContainer extends Component {\n    static propTypes = {\n        disableZoom: PropTypes.func.isRequired,\n        scale: PropTypes.number.isRequired,\n        previousScale: PropTypes.number.isRequired,\n        index: PropTypes.number.isRequired,\n        mediaData: PropTypes.shape({\n            id: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number\n            ]),\n            label: PropTypes.string,\n            file: PropTypes.string,\n            base: PropTypes.shape({\n                url: PropTypes.string\n            })\n        }).isRequired,\n        isZoomEnabled: PropTypes.bool.isRequired,\n        setTransform: PropTypes.func.isRequired,\n        location: LocationType.isRequired\n    };\n\n    shouldComponentUpdate(nextProps) {\n        const { scale, mediaData: { id } } = this.props;\n        const { scale: nextScale, mediaData: { id: nextId } } = nextProps;\n\n        if (scale !== nextScale || id !== nextId) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidUpdate(prevProps) {\n        const {\n            scale,\n            previousScale,\n            disableZoom,\n            location: { pathname },\n            setTransform\n        } = this.props;\n        const { location: { pathname: prevPathname } } = prevProps;\n\n        if (pathname !== prevPathname && scale !== INITIAL_SCALE) {\n            setTimeout(\n                () => setTransform(null, null, INITIAL_SCALE, TRANSFORMATION_SPEED),\n                TRANSFORMATION_DELAY\n            );\n        }\n\n        if (scale === 1 && previousScale !== 1) {\n            disableZoom();\n        }\n    }\n\n    containerProps() {\n        return {\n            alt: this._getAlt(),\n            src: this._getSrc()\n        };\n    }\n\n    _getAlt() {\n        const { mediaData: { label } = {} } = this.props;\n\n        return label || '';\n    }\n\n    _getSrc() {\n        const {\n            mediaData: { file, base: { url: baseUrl } = {} },\n            isZoomEnabled\n        } = this.props;\n\n        if (!isZoomEnabled) {\n            return baseUrl || media(file, PRODUCT_MEDIA);\n        }\n\n        return file ? media(file, PRODUCT_MEDIA) : baseUrl;\n    }\n\n    render() {\n        return (\n            <ProductGallery\n              { ...this.containerProps() }\n            />\n        );\n    }\n}\n\nexport default withRouter(\n    ProductGalleryBaseImageContainer\n);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nexport { default } from './ProductGalleryBaseImage.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Image from 'Component/Image';\nimport {\n    IMAGE_TYPE, PLACEHOLDER_TYPE, THUMBNAIL_KEY, VIDEO_TYPE\n} from 'Component/ProductGallery/ProductGallery.config';\nimport media, { PRODUCT_MEDIA } from 'Util/Media';\n\nimport './ProductGalleryThumbnailImage.style';\n\n/** @namespace Component/ProductGalleryThumbnailImage/Component */\nexport class ProductGalleryThumbnailImage extends PureComponent {\n    static propTypes = {\n        media: PropTypes.shape({\n            label: PropTypes.string,\n            file: PropTypes.string,\n            media_type: PropTypes.string,\n            id: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number\n            ]),\n            thumbnail: PropTypes.shape({\n                url: PropTypes.string\n            })\n        }).isRequired\n    };\n\n    renderMedia() {\n        const { media: { media_type } } = this.props;\n\n        switch (media_type) {\n        case VIDEO_TYPE:\n            return this.renderVideo();\n        case IMAGE_TYPE:\n            return this.renderImage();\n        case PLACEHOLDER_TYPE:\n            return this.renderPlaceholder();\n        default:\n            return null;\n        }\n    }\n\n    renderPlaceholder() {\n        return (\n            <Image\n              ratio=\"custom\"\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n              isPlaceholder\n            />\n        );\n    }\n\n    renderVideo() {\n        const {\n            media: {\n                thumbnail: { url },\n                label\n            }\n        } = this.props;\n\n        return (\n            <Image\n              ratio=\"custom\"\n              src={ url }\n              alt={ label }\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n            />\n        );\n    }\n\n    renderImage() {\n        const {\n            media: {\n                label: alt,\n                file,\n                thumbnail: { url: thumbnailUrl } = {},\n                id\n            }\n        } = this.props;\n\n        if (id === THUMBNAIL_KEY) {\n            return this.renderPlaceholder();\n        }\n\n        const src = thumbnailUrl || media(file, PRODUCT_MEDIA);\n\n        return (\n            <Image\n              src={ src }\n              alt={ alt }\n              ratio=\"custom\"\n              mix={ { block: 'ProductGalleryThumbnailImage' } }\n            />\n        );\n    }\n\n    render() {\n        return (\n            <div\n              block=\"ProductGalleryThumbnailImage\"\n            >\n                { this.renderMedia() }\n            </div>\n        );\n    }\n}\n\nexport default ProductGalleryThumbnailImage;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './ProductGalleryThumbnailImage.component';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { Children, createRef, PureComponent } from 'react';\n\nimport ChevronIcon from 'Component/ChevronIcon';\nimport { LEFT, RIGHT } from 'Component/ChevronIcon/ChevronIcon.config';\nimport Draggable from 'Component/Draggable';\nimport { ChildrenType, MixType, RefType } from 'Type/Common.type';\nimport { DeviceType } from 'Type/Device.type';\nimport { noopFn } from 'Util/Common';\nimport CSS from 'Util/CSS';\nimport { isRtl } from 'Util/CSS/CSS';\n\nimport {\n    ACTIVE_SLIDE_PERCENT,\n    ANIMATION_DURATION,\n    HEIGHT_TRANSITION_SPEED_ON_MOUNT\n} from './Slider.config';\n\nimport './Slider.style';\n\n/**\n * Slider component\n * @class Slider\n * @namespace Component/Slider/Component\n */\nexport class Slider extends PureComponent {\n    static propTypes = {\n        showCrumbs: PropTypes.bool,\n        showArrows: PropTypes.bool,\n        showCounter: PropTypes.bool,\n        activeImage: PropTypes.number,\n        onActiveImageChange: PropTypes.func,\n        mix: MixType,\n        children: ChildrenType.isRequired,\n        isInteractionDisabled: PropTypes.bool,\n        device: DeviceType.isRequired,\n        onClick: PropTypes.func,\n        isVertical: PropTypes.bool,\n        isHeightTransitionDisabledOnMount: PropTypes.bool,\n        sliderHeight: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.string\n        ]),\n        sliderRef: RefType\n    };\n\n    static defaultProps = {\n        activeImage: 0,\n        onActiveImageChange: noopFn,\n        showCrumbs: false,\n        showArrows: false,\n        showCounter: false,\n        isInteractionDisabled: false,\n        mix: {},\n        onClick: null,\n        isVertical: false,\n        isHeightTransitionDisabledOnMount: false,\n        sliderHeight: null,\n        sliderRef: null\n    };\n\n    sliderWidth = 0;\n\n    draggableRef = createRef();\n\n    sliderRef = createRef();\n\n    handleDragStart = this.handleInteraction.bind(this, this.handleDragStart);\n\n    handleDrag = this.handleInteraction.bind(this, this.handleDrag);\n\n    handleDragEnd = this.handleInteraction.bind(this, this.handleDragEnd);\n\n    renderCrumb = this.renderCrumb.bind(this);\n\n    renderCounter = this.renderCounter.bind(this);\n\n    goNext = this.goNext.bind(this);\n\n    goPrev = this.goPrev.bind(this);\n\n    handleClick = this.handleClick.bind(this);\n\n    __construct(props) {\n        super.__construct(props);\n\n        const { activeImage } = this.props;\n\n        this.state = {\n            prevActiveImage: activeImage\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const { activeImage, children } = props;\n        const { prevActiveImage } = state;\n\n        if (prevActiveImage !== activeImage && children.length !== 1) {\n            return { prevActiveImage: activeImage };\n        }\n\n        return null;\n    }\n\n    componentDidMount() {\n        this.addWindowResizeWatcher();\n\n        if (!this.getIsSlider()) {\n            return;\n        }\n\n        const sliderChildren = this.draggableRef.current.children;\n        const sliderWidth = this.draggableRef.current.offsetWidth;\n\n        this.sliderWidth = sliderWidth;\n\n        if (!sliderChildren || !sliderChildren[0]) {\n            return;\n        }\n\n        const sliderRef = this.getSliderRef();\n\n        CSS.setVariable(sliderRef, 'sliderOpacity', '0');\n\n        // delay setting carousel translate to avoid wrong calculations be made during transition\n        setTimeout(() => {\n            this.setStyleVariablesOnMount();\n        }, 0);\n\n        const target = sliderChildren[0].querySelector('img') || sliderChildren[0];\n\n        target.onload = () => {\n            const height = target.offsetHeight;\n            const sliderHeight = `${ height }px`;\n\n            CSS.setVariable(sliderRef, 'slider-height', sliderHeight);\n        };\n\n        setTimeout(() => {\n            const height = target.offsetHeight;\n            const sliderHeight = `${ height }px`;\n\n            if (height !== 0) {\n                CSS.setVariable(sliderRef, 'slider-height', sliderHeight);\n            }\n        }, ANIMATION_DURATION);\n\n        setTimeout(() => CSS.setVariable(sliderRef, 'sliderOpacity', '1'), 0);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { activeImage: prevActiveImage } = prevProps;\n        const { activeImage } = this.props;\n\n        if (activeImage !== prevActiveImage && this.getIsSlider()) {\n            const newTranslate = -activeImage * this.getSlideWidth() * this.getDir();\n\n            this.setAnimationSpeedStyle(Math.abs((prevActiveImage - activeImage) * ANIMATION_DURATION));\n            this.setTranlateXStyle(newTranslate);\n        }\n    }\n\n    getDir() {\n        const { isVertical } = this.props;\n\n        if (!isVertical && isRtl()) {\n            return -1;\n        }\n\n        return 1;\n    }\n\n    addWindowResizeWatcher() {\n        window.addEventListener('resize', () => {\n            const { activeImage } = this.props;\n            const newTranslate = -activeImage * this.getSlideWidth() * this.getDir();\n\n            this.setTranlateXStyle(newTranslate);\n\n            // Removed animation to avoid image movement while changing window width.\n            this.setAnimationSpeedStyle(0);\n\n            const delay = 500;\n\n            setTimeout(() => {\n                this.setAnimationSpeedStyle();\n            }, delay);\n        });\n    }\n\n    setStyleVariablesOnMount() {\n        const { sliderHeight, isHeightTransitionDisabledOnMount, activeImage } = this.props;\n\n        const sliderRef = this.getSliderRef();\n\n        if (isHeightTransitionDisabledOnMount) {\n            const transitionSpeed = isHeightTransitionDisabledOnMount\n                ? 0\n                : `${ HEIGHT_TRANSITION_SPEED_ON_MOUNT }ms`;\n\n            CSS.setVariable(\n                sliderRef,\n                'height-transition-speed',\n                transitionSpeed\n            );\n        }\n\n        if (sliderHeight) {\n            CSS.setVariable(sliderRef, 'slider-height', sliderHeight);\n        }\n\n        const newTranslate = -activeImage * this.getSlideWidth() * this.getDir();\n\n        this.setTranlateXStyle(newTranslate);\n    }\n\n    setTranlateXStyle(translate) {\n        const { isVertical } = this.props;\n\n        CSS.setVariable(\n            this.draggableRef,\n            isVertical ? 'translateY' : 'translateX',\n            `${ translate }px`\n        );\n    }\n\n    setAnimationSpeedStyle(animationDuration = ANIMATION_DURATION) {\n        CSS.setVariable(this.draggableRef, 'animation-speed', `${ animationDuration }ms`);\n    }\n\n    getIsSlider() {\n        const { children } = this.props;\n\n        return children.length > 0;\n    }\n\n    getSlideWidth() {\n        const { isVertical } = this.props;\n        const { offsetWidth = 0, offsetHeight = 0 } = this.draggableRef.current || {};\n\n        return isVertical ? offsetHeight : offsetWidth;\n    }\n\n    getSliderRef() {\n        const { sliderRef } = this.props;\n\n        return sliderRef || this.sliderRef;\n    }\n\n    onClickChangeSlide(state, slideSize, lastTranslate, fullSliderSize) {\n        const { originalX } = state;\n        const { prevActiveImage: prevActiveSlider } = this.state;\n        const { onActiveImageChange, device, onClick } = this.props;\n\n        if (onClick) {\n            onClick();\n\n            return -prevActiveSlider;\n        }\n\n        const fullSliderPoss = Math.round(fullSliderSize / slideSize);\n        const elementPositionInDOM = this.draggableRef.current.getBoundingClientRect().x;\n\n        const sliderPosition = -prevActiveSlider;\n        const realElementPositionInDOM = elementPositionInDOM - lastTranslate;\n        const mousePositionInElement = originalX - realElementPositionInDOM;\n\n        if (device.isMobile) {\n            return sliderPosition;\n        }\n\n        if (slideSize / 2 < mousePositionInElement && -fullSliderPoss < sliderPosition) {\n            const activeSlide = sliderPosition - 1;\n\n            onActiveImageChange(-activeSlide);\n\n            return activeSlide;\n        }\n\n        if (slideSize / 2 > mousePositionInElement && lastTranslate) {\n            const activeSlide = sliderPosition + 1;\n\n            onActiveImageChange(-activeSlide);\n\n            return activeSlide;\n        }\n\n        return sliderPosition;\n    }\n\n    getFullSliderWidth() {\n        const { isVertical } = this.props;\n        const { scrollWidth: fullSliderWidth, scrollHeight } = this.draggableRef.current;\n\n        const width = isVertical ? scrollHeight : fullSliderWidth;\n\n        return width - this.getSlideWidth();\n    }\n\n    calculateNextSlide(state) {\n        const { isVertical } = this.props;\n        const {\n            translateX,\n            translateY,\n            lastTranslateX,\n            lastTranslateY\n        } = state;\n\n        const lastTranslate = isVertical ? lastTranslateY : lastTranslateX;\n        const translate = isVertical ? translateY : translateX;\n\n        const { onActiveImageChange } = this.props;\n\n        const slideSize = this.getSlideWidth();\n\n        const fullSliderSize = this.getFullSliderWidth();\n\n        const dir = this.getDir();\n        const activeSlidePosition = translate / slideSize;\n        const activeSlidePercent = Math.abs(activeSlidePosition % 1);\n        const isSlideBack = dir === 1 ? translate > lastTranslate : translate < lastTranslate;\n\n        if (!translate) {\n            return this.onClickChangeSlide(state, slideSize, lastTranslate, fullSliderSize);\n        }\n\n        if ((dir === 1 && translate >= 0) || (dir === -1 && translate < 0)) {\n            onActiveImageChange(0);\n\n            return 0;\n        }\n\n        if ((dir === 1 && translate < -fullSliderSize) || (dir === -1 && translate > fullSliderSize)) {\n            const activeSlide = Math.round(fullSliderSize / (-slideSize * dir));\n\n            onActiveImageChange(-activeSlide);\n\n            return activeSlide;\n        }\n\n        if (isSlideBack && activeSlidePercent < 1 - ACTIVE_SLIDE_PERCENT) {\n            const activeSlide = Math[dir === 1 ? 'ceil' : 'floor'](activeSlidePosition);\n\n            onActiveImageChange(-activeSlide);\n\n            return activeSlide;\n        }\n\n        if (!isSlideBack && activeSlidePercent > ACTIVE_SLIDE_PERCENT) {\n            const activeSlide = Math[dir === 1 ? 'floor' : 'ceil'](activeSlidePosition);\n\n            onActiveImageChange(-activeSlide);\n\n            return activeSlide;\n        }\n\n        const activeSlide = Math.round(activeSlidePosition);\n\n        onActiveImageChange(-activeSlide);\n\n        return activeSlide;\n    }\n\n    handleDragStart() {\n        this.setAnimationSpeedStyle(0);\n    }\n\n    handleDrag(state) {\n        const { isVertical } = this.props;\n        const { translateX, translateY } = state;\n        const translate = isVertical ? translateY : translateX;\n        const fullSliderSize = this.getFullSliderWidth();\n        const dir = this.getDir();\n        const canDrag = dir === 1\n            ? translate < 0 && translate > -fullSliderSize\n            : translate > 0 && translate < fullSliderSize;\n\n        if (canDrag) {\n            this.setTranlateXStyle(translate);\n        }\n    }\n\n    handleDragEnd(state, callback) {\n        const { isVertical } = this.props;\n        const activeSlide = this.calculateNextSlide(state);\n        const slideSize = this.getSlideWidth();\n        const newTranslate = activeSlide * slideSize;\n\n        this.setAnimationSpeedStyle();\n        this.setTranlateXStyle(newTranslate);\n\n        if (isVertical) {\n            callback({\n                originalY: newTranslate,\n                lastTranslateY: newTranslate\n            });\n\n            return;\n        }\n\n        callback({\n            originalX: newTranslate,\n            lastTranslateX: newTranslate\n        });\n    }\n\n    handleClick(state, callback, e) {\n        if (e.type === 'contextmenu') {\n            this.handleDragEnd(state, callback);\n        }\n    }\n\n    handleInteraction(callback, ...args) {\n        const { isInteractionDisabled } = this.props;\n\n        if (isInteractionDisabled || !callback) {\n            return;\n        }\n\n        callback.call(this, ...args);\n    }\n\n    changeActiveImage(activeImage) {\n        const { onActiveImageChange } = this.props;\n\n        onActiveImageChange(activeImage);\n    }\n\n    goPrev() {\n        const { activeImage } = this.props;\n\n        if (activeImage > 0) {\n            this.changeActiveImage(activeImage - 1);\n        }\n    }\n\n    goNext() {\n        const { activeImage, children } = this.props;\n        const nextImage = activeImage + 1;\n\n        if (nextImage < children.length) {\n            this.changeActiveImage(nextImage);\n        }\n    }\n\n    renderCounter() {\n        const { children, showCounter, activeImage } = this.props;\n\n        if (!showCounter || children.length <= 1) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"Slider\"\n              elem=\"Counter\"\n            >\n                { activeImage + 1 }\n                /\n                { children.length }\n            </div>\n        );\n    }\n\n    renderCrumbs() {\n        const { children, showCrumbs } = this.props;\n\n        if (!showCrumbs || children.length <= 1) {\n            return null;\n        }\n\n        return (\n            <div\n              block=\"Slider\"\n              elem=\"Crumbs\"\n            >\n                { Children.map(children, this.renderCrumb) }\n            </div>\n        );\n    }\n\n    renderCrumb(_, i) {\n        const { activeImage } = this.props;\n        const isActive = i === Math.abs(-activeImage);\n\n        return (\n            <button\n              block=\"Slider\"\n              elem=\"Image\"\n              mods={ { type: 'single' } }\n              // eslint-disable-next-line react/jsx-no-bind\n              onClick={ () => this.changeActiveImage(i) }\n              aria-label={ __('Slide crumb') }\n            >\n                <div\n                  block=\"Slider\"\n                  elem=\"Crumb\"\n                  mods={ { isActive } }\n                />\n            </button>\n        );\n    }\n\n    renderArrows() {\n        const { showArrows, activeImage, children } = this.props;\n        const nextIsDisabled = activeImage + 1 === children.length;\n        const prevIsDisabled = activeImage === 0;\n\n        if (!showArrows) {\n            return null;\n        }\n\n        return (\n            <>\n                <button\n                  block=\"Slider\"\n                  elem=\"Arrow\"\n                  mods={ { isPrev: true, isDisabled: prevIsDisabled } }\n                  aria-label={ __('Previous') }\n                  onClick={ this.goPrev }\n                >\n                    <ChevronIcon direction={ LEFT } />\n                </button>\n                <button\n                  block=\"Slider\"\n                  elem=\"Arrow\"\n                  mods={ { isNext: true, isDisabled: nextIsDisabled } }\n                  aria-label={ __('Next') }\n                  onClick={ this.goNext }\n                >\n                    <ChevronIcon direction={ RIGHT } />\n                </button>\n            </>\n        );\n    }\n\n    renderSliderContent() {\n        const { activeImage, children, isVertical } = this.props;\n        const dir = this.getDir();\n\n        if (!this.getIsSlider()) {\n            return children;\n        }\n\n        return (\n            <Draggable\n              mix={ { block: 'Slider', elem: 'Wrapper', mods: { isVertical } } }\n              draggableRef={ this.draggableRef }\n              onDragStart={ this.handleDragStart }\n              onDragEnd={ this.handleDragEnd }\n              onDrag={ this.handleDrag }\n              onClick={ this.handleClick }\n              shiftX={ -activeImage * this.getSlideWidth() * dir }\n              shiftY={ -activeImage * this.getSlideWidth() }\n            >\n                { children }\n            </Draggable>\n        );\n    }\n\n    render() {\n        const { mix } = this.props;\n\n        return (\n            <>\n                <div\n                  block=\"Slider\"\n                  mix={ mix }\n                  ref={ this.getSliderRef() }\n                >\n                    { this.renderSliderContent() }\n                    { this.renderCrumbs() }\n                    { this.renderCounter() }\n                </div>\n                { this.renderArrows() }\n            </>\n        );\n    }\n}\n\nexport default Slider;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport const ANIMATION_DURATION = 300;\nexport const HEIGHT_TRANSITION_SPEED_ON_MOUNT = 300;\nexport const ACTIVE_SLIDE_PERCENT = 0.1;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport { connect } from 'react-redux';\n\nimport Slider from './Slider.component';\n\n/** @namespace Component/Slider/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    device: state.ConfigReducer.device\n});\n\n/** @namespace Component/Slider/Container/mapDispatchToProps */\nexport const mapDispatchToProps = () => ({});\n\n// eslint-disable-next-line @scandipwa/scandipwa-guidelines/always-both-mappings\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Slider);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './Slider.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nimport PropTypes from 'prop-types';\nimport { createRef, PureComponent } from 'react';\n\nimport { ChildrenType } from 'Type/Common.type';\nimport CSS from 'Util/CSS';\n\nimport './TranslateOnCursorMove.style';\n\n/** @namespace Component/TranslateOnCursorMove/Component */\nexport class TranslateOnCursorMove extends PureComponent {\n    static propTypes = {\n        children: ChildrenType.isRequired,\n        activeImageId: PropTypes.number.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        itemSelector: PropTypes.string.isRequired,\n        targetSelector: PropTypes.string.isRequired\n    };\n\n    static defaultProps = {};\n\n    ref = createRef();\n\n    handleLoad = this.handleLoad.bind(this);\n\n    handleMouseMove = this.handleMouseMove.bind(this);\n\n    componentDidMount() {\n        window.addEventListener('resize', this.handleLoad);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { activeImageId } = this.props;\n        const { activeImageId: prevActiveImageId } = prevProps;\n\n        if (activeImageId !== prevActiveImageId) {\n            this.handleLoad();\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleLoad);\n        CSS.setVariable(this.ref, 'translateYOnCursorMove', '0');\n    }\n\n    handleLoad() {\n        const {\n            activeImageId,\n            itemSelector,\n            targetSelector\n        } = this.props;\n\n        const targets = this.ref.current.querySelectorAll(itemSelector);\n        const target = targets?.[activeImageId]?.querySelector(targetSelector);\n\n        if (!target) {\n            return;\n        }\n\n        const innerHeight = target.getBoundingClientRect().height;\n        const { height: wrapperHeight } = this.ref.current.getBoundingClientRect();\n        const translate = (wrapperHeight - innerHeight) / 2;\n\n        // style set directly (not via `setVariable`) as different translate Y values have to be applied at the same time\n        // (as 2 slider images are shown simultaneously when navigating to next/previous image)\n        target.style.transform = `translateY(${translate}px)`;\n        CSS.setVariable(this.ref, 'imageOpacity', '1');\n    }\n\n    handleMouseMove({ pageY: wrapperPageY }) {\n        const {\n            activeImageId,\n            itemSelector,\n            targetSelector\n        } = this.props;\n\n        // Space from top and bottom to shrink mouse move watch area\n        const paddingY = 90;\n\n        const target = this.ref.current\n            .querySelectorAll(itemSelector)?.[activeImageId]\n            ?.querySelector(targetSelector);\n\n        if (!target) {\n            return;\n        }\n\n        const innerHeight = target.getBoundingClientRect().height;\n        const { height: wrapperHeight, top } = this.ref.current.getBoundingClientRect();\n\n        const pageY = wrapperPageY - top;\n\n        // When mouse is reached top or bottom\n        if (wrapperPageY < paddingY + top || (wrapperPageY > (wrapperHeight + top - paddingY))) {\n            return;\n        }\n\n        const ratio = (innerHeight - wrapperHeight) / (wrapperHeight - (paddingY * 2));\n        const translate = (pageY - paddingY) * ratio;\n\n        if (innerHeight <= wrapperHeight) {\n            return;\n        }\n\n        target.style.transform = `translateY(-${translate}px)`;\n    }\n\n    render() {\n        const { children, isMobile } = this.props;\n\n        if (isMobile) {\n            return children;\n        }\n\n        return (\n            <div\n              block=\"TranslateOnCursorMove\"\n              onLoad={ this.handleLoad }\n              onMouseMove={ this.handleMouseMove }\n              ref={ this.ref }\n            >\n                { children }\n            </div>\n        );\n    }\n}\n\nexport default TranslateOnCursorMove;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport { connect } from 'react-redux';\n\nimport TranslateOnCursorMove from './TranslateOnCursorMove.component';\n\n/** @namespace Component/TranslateOnCursorMove/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    isMobile: state.ConfigReducer.device.isMobile\n});\n\n/** @namespace Component/TranslateOnCursorMove/Container/mapDispatchToProps */\nexport const mapDispatchToProps = () => ({});\n\n// eslint-disable-next-line @scandipwa/scandipwa-guidelines/always-both-mappings\nexport default connect(mapStateToProps, mapDispatchToProps)(TranslateOnCursorMove);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nexport { default } from './TranslateOnCursorMove.container';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport { PureComponent } from 'react';\n\nimport Popup from 'Component/Popup';\nimport { MediaItemType } from 'Type/ProductList.type';\nimport { makeCancelable } from 'Util/Promise';\n\nimport { VIDEO_POPUP_ID, VIMEO_FORMAT, YOUTUBE_FORMAT } from './VideoPopup.config';\n\nimport './VideoPopup.style';\n\n/**\n * A popup capable of displaying a video\n * @class VideoPopup\n * @namespace Component/VideoPopup/Component\n */\nexport class VideoPopup extends PureComponent {\n    static propTypes = {\n        payload: MediaItemType.isRequired\n    };\n\n    componentDidMount() {\n        this.loadVimeoLibrary();\n        this.loadYouTubeLibrary();\n\n        Promise.all([\n            this.vimeoPromise,\n            this.youTubePromise\n        ]).then(\n            /** @namespace Component/VideoPopup/Component/VideoPopup/componentDidMount/all/then */\n            () => this.forceUpdate()\n        );\n    }\n\n    componentWillUnmount() {\n        if (this.youTubePromise) {\n            this.youTubePromise.cancel();\n        }\n\n        if (this.vimeoPromise) {\n            this.vimeoPromise.cancel();\n        }\n    }\n\n    /**\n     * Renders a video provided by Vimeo\n     * @param videoId\n     * @returns {*}\n     * @private\n     */\n    _renderVimeoVideo(videoId) {\n        const Vimeo = this.vimeoComponent;\n\n        if (!Vimeo) {\n            return null;\n        }\n\n        return (\n            <Vimeo\n              videoId={ videoId }\n              autoplay\n            />\n        );\n    }\n\n    /**\n     * Renders a video provided by Youtube\n     * @param videoId\n     * @returns {*}\n     * @private\n     */\n    _renderYoutubeVideo(videoId) {\n        const YouTube = this.youTubeComponent;\n\n        if (!YouTube) {\n            return null;\n        }\n\n        return (\n            <YouTube\n              videoId={ videoId }\n              containerClassName=\"VideoPopup-YouTubeContainer\"\n              // eslint-disable-next-line react/forbid-component-props\n              className=\"VideoPopup-YouTube\"\n              opts={ { playerVars: { autoplay: 1 } } }\n            />\n        );\n    }\n\n    loadVimeoLibrary() {\n        this.vimeoPromise = makeCancelable(import('react-vimeo'));\n\n        this.vimeoPromise.promise.then(\n            /** @namespace Component/VideoPopup/Component/VideoPopup/loadVimeoLibrary/then */\n            ({ default: vimeo }) => {\n                this.vimeoComponent = vimeo;\n            }\n        );\n    }\n\n    loadYouTubeLibrary() {\n        this.youTubePromise = makeCancelable(import('react-youtube'));\n\n        this.youTubePromise.promise.then(\n            /** @namespace Component/VideoPopup/Component/VideoPopup/loadYouTubeLibrary/then */\n            ({ default: youTube }) => {\n                this.youTubeComponent = youTube;\n            }\n        );\n    }\n\n    /**\n     * Parses the video URL and renders the video accordingly\n     * @returns {null|*}\n     * @private\n     */\n    _renderVideoContent() {\n        const {\n            payload: {\n                media: {\n                    video_content: { video_url } = {}\n                } = {}\n            }\n        } = this.props;\n\n        if (!video_url) {\n            return null;\n        }\n\n        const [, vimeoId] = VIMEO_FORMAT.exec(video_url) || [];\n\n        if (vimeoId) {\n            return this._renderVimeoVideo(vimeoId);\n        }\n\n        const [, youtubeId] = YOUTUBE_FORMAT.exec(video_url);\n\n        if (youtubeId) {\n            return this._renderYoutubeVideo(youtubeId);\n        }\n\n        return null;\n    }\n\n    render() {\n        return (\n            <Popup id={ VIDEO_POPUP_ID } mix={ { block: 'VideoPopup' } }>\n                <div block=\"VideoPopup\" elem=\"VideoPlayer\">\n                    <div block=\"VideoPopup\" elem=\"PlayerContent\">\n                        { this._renderVideoContent() }\n                    </div>\n                </div>\n            </Popup>\n        );\n    }\n}\n\nexport default VideoPopup;\n","/* eslint-disable import/prefer-default-export */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport const VIDEO_POPUP_ID = 'VIDEO_POPUP_ID';\n\n/**\n * An expression that checks for vimeo URLs described in https://developer.vimeo.com/api/oembed/videos#table-1 and matches the video id\n * @type {RegExp}\n */\nexport const VIMEO_FORMAT = new RegExp('(?:https?//)?vimeo.com[\\\\w/]*/(\\\\d+)$');\nexport const YOUTUBE_FORMAT = new RegExp('(?:https?//)?www.youtube.com/watch\\\\?v=([\\\\w\\\\-]+)');\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport { connect } from 'react-redux';\n\nimport VideoPopup from './VideoPopup.component';\nimport { VIDEO_POPUP_ID } from './VideoPopup.config';\n\n/** @namespace Component/VideoPopup/Container/mapStateToProps */\nexport const mapStateToProps = (state) => ({\n    payload: state.PopupReducer.popupPayload[VIDEO_POPUP_ID] || {}\n});\n\n/** @namespace Component/VideoPopup/Container/mapDispatchToProps */\nexport const mapDispatchToProps = () => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoPopup);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './VideoPopup.container';\n","/* eslint-disable react/no-unused-state */\n\n/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport Image from 'Component/Image/Image.container';\nimport { MediaItemType } from 'Type/ProductList.type';\n\nimport './VideoThumbnail.style';\n\n/**\n * VideoThumbnail component\n * @class VideoThumbnail\n * @namespace Component/VideoThumbnail/Component */\nexport class VideoThumbnail extends PureComponent {\n    static propTypes = {\n        media: MediaItemType.isRequired,\n        onPlayClick: PropTypes.func.isRequired\n    };\n\n    /**\n     * Renders an icon indicating that the video can be played\n     */\n    renderPlayIcon() {\n        return (\n            <span block=\"VideoThumbnail\" elem=\"PlayIcon\">\n                { __('Play video') }\n            </span>\n        );\n    }\n\n    render() {\n        const {\n            media: {\n                thumbnail: { url },\n                video_content: { video_title }\n            },\n            onPlayClick\n        } = this.props;\n\n        return (\n            <div block=\"VideoThumbnail\">\n                <button\n                  block=\"VideoThumbnail\"\n                  elem=\"Button\"\n                  onClick={ onPlayClick }\n                  title={ __('Play video %s', video_title) }\n                >\n                    <Image\n                      src={ url }\n                      ratio=\"custom\"\n                      mix={ {\n                          block: 'VideoThumbnail',\n                          elem: 'Thumbnail',\n                          mods: { isPlaceholder: !url }\n                      } }\n                      isPlaceholder={ !url }\n                      alt={ video_title }\n                    />\n                    { this.renderPlayIcon() }\n                </button>\n            </div>\n        );\n    }\n}\n\nexport default VideoThumbnail;\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { VIDEO_POPUP_ID } from 'Component/VideoPopup/VideoPopup.config';\nimport { hideActivePopup } from 'Store/Overlay/Overlay.action';\nimport { showPopup } from 'Store/Popup/Popup.action';\nimport { MediaItemType } from 'Type/ProductList.type';\n\nimport VideoThumbnail from './VideoThumbnail.component';\n\n/** @namespace Component/VideoThumbnail/Container/mapStateToProps\n */\nexport const mapStateToProps = () => ({});\n\n/** @namespace Component/VideoThumbnail/Container/mapDispatchToProps */\nexport const mapDispatchToProps = (dispatch) => ({\n    showPopup: (payload) => dispatch(showPopup(VIDEO_POPUP_ID, payload)),\n    hideActivePopup: () => dispatch(hideActivePopup())\n});\n\n/**\n * @class VideoThumbnailContainer\n * @namespace Component/VideoThumbnail/Container */\nexport class VideoThumbnailContainer extends PureComponent {\n    static propTypes = {\n        media: MediaItemType.isRequired,\n        showPopup: PropTypes.func.isRequired,\n        isVideoZoomed: PropTypes.bool.isRequired,\n        hideActivePopup: PropTypes.func.isRequired,\n        onZoomedVideoClick: PropTypes.func.isRequired\n    };\n\n    containerFunctions = {\n        onPlayClick: this.onPlayClick.bind(this)\n    };\n\n    /**\n     * Handles events that occur when the user clicks or taps on a video thumbnail.\n     * Displays a popup with the corresponding video.\n     * @param event\n     * @private\n     */\n    onPlayClick(event) {\n        const {\n            media,\n            media: {\n                video_content: {\n                    video_title\n                } = {}\n            } = {},\n            showPopup,\n            isVideoZoomed,\n            onZoomedVideoClick\n        } = this.props;\n\n        event.preventDefault();\n\n        if (isVideoZoomed) {\n            onZoomedVideoClick();\n        }\n\n        setTimeout(() => {\n            showPopup({\n                media,\n                title: video_title\n            });\n        }, 0);\n    }\n\n    render() {\n        const { media } = this.props;\n\n        return (\n            <VideoThumbnail\n              media={ media }\n              { ...this.containerFunctions }\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoThumbnailContainer);\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\n\nexport { default } from './VideoThumbnail.container';\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nimport getStore from 'Util/Store';\n\nexport const WYSIWYG_MEDIA = 'wysiwyg/';\nexport const CATEGORY_MEDIA = 'catalog/category/';\nexport const PRODUCT_MEDIA = 'catalog/product';\nexport const LOGO_MEDIA = 'logo/';\n\nexport default (src, subPath = '', isMediaPath = true) => {\n    // If isMediaPath is passed return local media path\n\n    const { ConfigReducer: { secure_base_media_url, base_url } } = getStore().getState();\n    const baseUrl = isMediaPath\n        ? secure_base_media_url || '/media/'\n        : base_url;\n\n    return `${ baseUrl }${ subPath }${ src }`;\n};\n","/**\n * ScandiPWA - Progressive Web App for Magento\n *\n * Copyright © Scandiweb, Inc. All rights reserved.\n * See LICENSE for license details.\n *\n * @license OSL-3.0 (Open Software License (\"OSL\") v. 3.0)\n * @package scandipwa/scandipwa\n * @link https://github.com/scandipwa/scandipwa\n */\nexport {\n    default, WYSIWYG_MEDIA, PRODUCT_MEDIA, CATEGORY_MEDIA\n} from './Media';\n","import React, { Component } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nvar initialState = {\r\n    wrapperComponent: null,\r\n    contentComponent: null,\r\n    previousScale: 1,\r\n    scale: 1,\r\n    positionX: 0,\r\n    positionY: 0,\r\n    options: {\r\n        disabled: false,\r\n        transformEnabled: true,\r\n        minPositionX: null,\r\n        maxPositionX: null,\r\n        minPositionY: null,\r\n        maxPositionY: null,\r\n        minScale: 1,\r\n        maxScale: 8,\r\n        limitToBounds: true,\r\n        limitToWrapper: false,\r\n        centerContent: true,\r\n        wrapperClass: \"\",\r\n        contentClass: \"\",\r\n    },\r\n    wheel: {\r\n        disabled: false,\r\n        step: 5,\r\n        wheelEnabled: true,\r\n        touchPadEnabled: true,\r\n        limitsOnWheel: false,\r\n    },\r\n    pan: {\r\n        disabled: false,\r\n        panAnimationType: \"linear\",\r\n        lockAxisX: false,\r\n        lockAxisY: false,\r\n        velocity: true,\r\n        velocityEqualToMove: true,\r\n        velocitySensitivity: 2,\r\n        velocityActiveScale: 1,\r\n        velocityMinSpeed: 1,\r\n        velocityBaseTime: 1600,\r\n        velocityAnimationType: \"easeOutQuart\",\r\n        padding: true,\r\n        paddingSize: 30,\r\n        panReturnAnimationTime: 400,\r\n        panReturnAnimationType: \"easeOut\",\r\n        disableOnTarget: [],\r\n    },\r\n    pinch: {\r\n        disabled: false,\r\n    },\r\n    zoomIn: {\r\n        disabled: false,\r\n        step: 20,\r\n        animation: true,\r\n        animationType: \"easeOut\",\r\n        animationTime: 200,\r\n    },\r\n    zoomOut: {\r\n        disabled: false,\r\n        step: 20,\r\n        animation: true,\r\n        animationType: \"easeOut\",\r\n        animationTime: 200,\r\n    },\r\n    doubleClick: {\r\n        disabled: false,\r\n        step: 20,\r\n        mode: \"zoomIn\",\r\n        animation: true,\r\n        animationType: \"easeOut\",\r\n        animationTime: 200,\r\n    },\r\n    reset: {\r\n        disabled: false,\r\n        animation: true,\r\n        animationType: \"easeOut\",\r\n        animationTime: 200,\r\n    },\r\n    scalePadding: {\r\n        disabled: false,\r\n        size: 0.2,\r\n        animationTime: 200,\r\n        animationType: \"easeOut\",\r\n    },\r\n};\n\n/**\r\n * Rounds number to given decimal\r\n * eg. roundNumber(2.34343, 1) => 2.3\r\n */\r\nvar roundNumber = function (num, decimal) {\r\n    return Number(num.toFixed(decimal));\r\n};\r\n/**\r\n * Checks if value is number, if not it returns default value\r\n * 1# eg. checkIsNumber(2, 30) => 2\r\n * 2# eg. checkIsNumber(null, 30) => 30\r\n */\r\nvar checkIsNumber = function (num, defaultValue) {\r\n    return typeof num === \"number\" ? num : defaultValue;\r\n};\r\n/**\r\n * Keeps value between given bounds, used for limiting view to given boundaries\r\n * 1# eg. boundLimiter(2, 0, 3, true) => 2\r\n * 2# eg. boundLimiter(4, 0, 3, true) => 3\r\n * 3# eg. boundLimiter(-2, 0, 3, true) => 0\r\n * 4# eg. boundLimiter(10, 0, 3, false) => 10\r\n */\r\nvar boundLimiter = function (value, minBound, maxBound, isActive) {\r\n    if (!isActive)\r\n        return roundNumber(value, 2);\r\n    if (value < minBound)\r\n        return roundNumber(minBound, 2);\r\n    if (value > maxBound)\r\n        return roundNumber(maxBound, 2);\r\n    return roundNumber(value, 2);\r\n};\r\n/**\r\n * Calculate bounding area of zoomed/panned element\r\n */\r\nvar calculateBoundingArea = function (wrapperWidth, newContentWidth, diffWidth, wrapperHeight, newContentHeight, diffHeight, limitToWrapper) {\r\n    var scaleWidthFactor = wrapperWidth > newContentWidth\r\n        ? diffWidth * (limitToWrapper ? 1 : 0.5)\r\n        : 0;\r\n    var scaleHeightFactor = wrapperHeight > newContentHeight\r\n        ? diffHeight * (limitToWrapper ? 1 : 0.5)\r\n        : 0;\r\n    var minPositionX = wrapperWidth - newContentWidth - scaleWidthFactor;\r\n    var maxPositionX = scaleWidthFactor;\r\n    var minPositionY = wrapperHeight - newContentHeight - scaleHeightFactor;\r\n    var maxPositionY = scaleHeightFactor;\r\n    return { minPositionX: minPositionX, maxPositionX: maxPositionX, minPositionY: minPositionY, maxPositionY: maxPositionY };\r\n};\r\n/**\r\n * Returns distance between two points x,y\r\n */\r\nvar getDistance = function (firstPoint, secondPoint) {\r\n    return Math.sqrt(Math.pow(firstPoint.pageX - secondPoint.pageX, 2) +\r\n        Math.pow(firstPoint.pageY - secondPoint.pageY, 2));\r\n};\r\n/**\r\n * Delete undefined values from object keys\r\n * Used for deleting empty props\r\n */\r\nvar deleteUndefinedProps = function (value) {\r\n    var newObject = __assign({}, value);\r\n    Object.keys(newObject).forEach(function (key) { return newObject[key] === undefined && delete newObject[key]; });\r\n    return newObject;\r\n};\r\n/**\r\n * Fire callback if it's function\r\n */\r\nvar handleCallback = function (callback, props) {\r\n    if (callback && typeof callback === \"function\") {\r\n        callback(props);\r\n    }\r\n};\r\nvar handleWheelStop = function (previousEvent, event, stateProvider) {\r\n    var scale = stateProvider.scale, _a = stateProvider.options, maxScale = _a.maxScale, minScale = _a.minScale;\r\n    if (!previousEvent)\r\n        return false;\r\n    if (scale < maxScale || scale > minScale)\r\n        return true;\r\n    if (Math.sign(previousEvent.deltaY) !== Math.sign(event.deltaY))\r\n        return true;\r\n    if (previousEvent.deltaY > 0 && previousEvent.deltaY < event.deltaY)\r\n        return true;\r\n    if (previousEvent.deltaY < 0 && previousEvent.deltaY > event.deltaY)\r\n        return true;\r\n    if (Math.sign(previousEvent.deltaY) !== Math.sign(event.deltaY))\r\n        return true;\r\n    return false;\r\n};\r\nvar mergeProps = function (initialState, dynamicProps) {\r\n    return Object.keys(initialState).reduce(function (acc, curr) {\r\n        if (typeof dynamicProps[curr] === \"object\" && dynamicProps[curr] !== null) {\r\n            acc[curr] = __assign(__assign({}, initialState[curr]), dynamicProps[curr]);\r\n        }\r\n        else {\r\n            acc[curr] =\r\n                dynamicProps[curr] === undefined\r\n                    ? initialState[curr]\r\n                    : dynamicProps[curr];\r\n        }\r\n        return acc;\r\n    }, {});\r\n};\r\nfunction getWindowScaleY(wrapper) {\r\n    if (!wrapper)\r\n        return 0;\r\n    return window.innerHeight / wrapper.offsetHeight;\r\n}\r\nfunction getWindowScaleX(wrapper) {\r\n    if (!wrapper)\r\n        return 0;\r\n    return window.innerWidth / wrapper.offsetWidth;\r\n}\n\n/**\r\n * Functions should return denominator of the target value, which is the next animation step.\r\n * t is a value from 0 to 1, reflecting the percentage of animation status.\r\n */\r\nvar easeOut = function (t) {\r\n    return -Math.cos(t * Math.PI) / 2 + 0.5;\r\n};\r\n// linear\r\nvar linear = function (t) {\r\n    return t;\r\n};\r\n// accelerating from zero velocity\r\nvar easeInQuad = function (t) {\r\n    return t * t;\r\n};\r\n// decelerating to zero velocity\r\nvar easeOutQuad = function (t) {\r\n    return t * (2 - t);\r\n};\r\n// acceleration until halfway, then deceleration\r\nvar easeInOutQuad = function (t) {\r\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n};\r\n// accelerating from zero velocity\r\nvar easeInCubic = function (t) {\r\n    return t * t * t;\r\n};\r\n// decelerating to zero velocity\r\nvar easeOutCubic = function (t) {\r\n    return --t * t * t + 1;\r\n};\r\n// acceleration until halfway, then deceleration\r\nvar easeInOutCubic = function (t) {\r\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\r\n};\r\n// accelerating from zero velocity\r\nvar easeInQuart = function (t) {\r\n    return t * t * t * t;\r\n};\r\n// decelerating to zero velocity\r\nvar easeOutQuart = function (t) {\r\n    return 1 - --t * t * t * t;\r\n};\r\n// acceleration until halfway, then deceleration\r\nvar easeInOutQuart = function (t) {\r\n    return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\r\n};\r\n// accelerating from zero velocity\r\nvar easeInQuint = function (t) {\r\n    return t * t * t * t * t;\r\n};\r\n// decelerating to zero velocity\r\nvar easeOutQuint = function (t) {\r\n    return 1 + --t * t * t * t * t;\r\n};\r\n// acceleration until halfway, then deceleration\r\nvar easeInOutQuint = function (t) {\r\n    return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\r\n};\r\nvar availableAnimations = {\r\n    easeOut: easeOut,\r\n    linear: linear,\r\n    easeInQuad: easeInQuad,\r\n    easeOutQuad: easeOutQuad,\r\n    easeInOutQuad: easeInOutQuad,\r\n    easeInCubic: easeInCubic,\r\n    easeOutCubic: easeOutCubic,\r\n    easeInOutCubic: easeInOutCubic,\r\n    easeInQuart: easeInQuart,\r\n    easeOutQuart: easeOutQuart,\r\n    easeInOutQuart: easeInOutQuart,\r\n    easeInQuint: easeInQuint,\r\n    easeOutQuint: easeOutQuint,\r\n    easeInOutQuint: easeInOutQuint,\r\n};\n\nfunction handleDisableAnimation() {\r\n    if (!this.mounted)\r\n        return;\r\n    if (this.animation) {\r\n        cancelAnimationFrame(this.animation);\r\n    }\r\n    this.animate = false;\r\n    this.animation = false;\r\n    this.velocity = false;\r\n}\r\nfunction animate(animationName, animationTime, callback) {\r\n    var _this = this;\r\n    if (!this.mounted)\r\n        return;\r\n    var startTime = new Date().getTime();\r\n    var lastStep = 1;\r\n    // if another animation is active\r\n    handleDisableAnimation.call(this);\r\n    // new animation\r\n    this.animation = function () {\r\n        if (!_this.animation || !_this.mounted)\r\n            return;\r\n        var frameTime = new Date().getTime() - startTime;\r\n        var animationProgress = frameTime / animationTime;\r\n        var animationType = availableAnimations[animationName];\r\n        var step = animationType(animationProgress);\r\n        if (frameTime >= animationTime) {\r\n            callback(lastStep);\r\n            _this.animation = null;\r\n        }\r\n        else {\r\n            callback(step);\r\n            requestAnimationFrame(_this.animation);\r\n        }\r\n    };\r\n    requestAnimationFrame(this.animation);\r\n}\r\nfunction animateComponent(_a) {\r\n    var _this = this;\r\n    var targetState = _a.targetState, speed = _a.speed, type = _a.type;\r\n    var _b = this.stateProvider, scale = _b.scale, positionX = _b.positionX, positionY = _b.positionY;\r\n    var scaleDiff = targetState.scale - scale;\r\n    var positionXDiff = targetState.positionX - positionX;\r\n    var positionYDiff = targetState.positionY - positionY;\r\n    if (speed === 0) {\r\n        this.stateProvider.previousScale = this.stateProvider.scale;\r\n        this.stateProvider.scale = targetState.scale;\r\n        this.stateProvider.positionX = targetState.positionX;\r\n        this.stateProvider.positionY = targetState.positionY;\r\n        this.applyTransformation();\r\n    }\r\n    else {\r\n        // animation start timestamp\r\n        animate.call(this, type, speed, function (step) {\r\n            _this.stateProvider.previousScale = _this.stateProvider.scale;\r\n            _this.stateProvider.scale = scale + scaleDiff * step;\r\n            _this.stateProvider.positionX = positionX + positionXDiff * step;\r\n            _this.stateProvider.positionY = positionY + positionYDiff * step;\r\n            // apply animation changes\r\n            _this.applyTransformation();\r\n        });\r\n    }\r\n}\n\nfunction checkZoomBounds(zoom, minScale, maxScale, zoomPadding, enablePadding) {\r\n    var scalePadding = enablePadding ? zoomPadding : 0;\r\n    var minScaleWithPadding = minScale - scalePadding;\r\n    if (!isNaN(maxScale) && zoom >= maxScale)\r\n        return maxScale;\r\n    if (!isNaN(minScale) && zoom <= minScaleWithPadding)\r\n        return minScaleWithPadding;\r\n    return zoom;\r\n}\r\nfunction checkPositionBounds(positionX, positionY, bounds, limitToBounds, paddingValue, wrapperComponent) {\r\n    var minPositionX = bounds.minPositionX, minPositionY = bounds.minPositionY, maxPositionX = bounds.maxPositionX, maxPositionY = bounds.maxPositionY;\r\n    var paddingX = wrapperComponent\r\n        ? (paddingValue * wrapperComponent.offsetWidth) / 100\r\n        : 0;\r\n    var paddingY = wrapperComponent\r\n        ? (paddingValue * wrapperComponent.offsetHeight) / 100\r\n        : 0;\r\n    var x = boundLimiter(positionX, minPositionX - paddingX, maxPositionX + paddingX, limitToBounds);\r\n    var y = boundLimiter(positionY, minPositionY - paddingY, maxPositionY + paddingY, limitToBounds);\r\n    return { x: x, y: y };\r\n}\r\nfunction getDelta(event, customDelta) {\r\n    var deltaY = event ? (event.deltaY < 0 ? 1 : -1) : 0;\r\n    var delta = checkIsNumber(customDelta, deltaY);\r\n    return delta;\r\n}\r\nfunction wheelMousePosition(event, contentComponent, scale) {\r\n    var contentRect = contentComponent.getBoundingClientRect();\r\n    // mouse position x, y over wrapper component\r\n    var mouseX = (event.clientX - contentRect.left) / scale;\r\n    var mouseY = (event.clientY - contentRect.top) / scale;\r\n    if (isNaN(mouseX) || isNaN(mouseY))\r\n        console.error(\"No mouse or touch offset found\");\r\n    return {\r\n        mouseX: mouseX,\r\n        mouseY: mouseY,\r\n    };\r\n}\r\nfunction getComponentsSizes(wrapperComponent, contentComponent, newScale) {\r\n    var wrapperWidth = wrapperComponent.offsetWidth;\r\n    var wrapperHeight = wrapperComponent.offsetHeight;\r\n    var contentWidth = contentComponent.offsetWidth;\r\n    var contentHeight = contentComponent.offsetHeight;\r\n    var newContentWidth = contentWidth * newScale;\r\n    var newContentHeight = contentHeight * newScale;\r\n    var newDiffWidth = wrapperWidth - newContentWidth;\r\n    var newDiffHeight = wrapperHeight - newContentHeight;\r\n    return {\r\n        wrapperWidth: wrapperWidth,\r\n        wrapperHeight: wrapperHeight,\r\n        newContentWidth: newContentWidth,\r\n        newDiffWidth: newDiffWidth,\r\n        newContentHeight: newContentHeight,\r\n        newDiffHeight: newDiffHeight,\r\n    };\r\n}\r\nfunction handleCalculatePositions(mouseX, mouseY, newScale, bounds, limitToBounds) {\r\n    var _a = this.stateProvider, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY, transformEnabled = _a.options.transformEnabled;\r\n    var scaleDifference = newScale - scale;\r\n    if (typeof mouseX !== \"number\" || typeof mouseY !== \"number\")\r\n        return console.error(\"Mouse X and Y position were not provided!\");\r\n    if (!transformEnabled)\r\n        return { newPositionX: positionX, newPositionY: positionY };\r\n    var calculatedPositionX = positionX - mouseX * scaleDifference;\r\n    var calculatedPositionY = positionY - mouseY * scaleDifference;\r\n    // do not limit to bounds when there is padding animation,\r\n    // it causes animation strange behaviour\r\n    var newPositions = checkPositionBounds(calculatedPositionX, calculatedPositionY, bounds, limitToBounds, 0, null);\r\n    return newPositions;\r\n}\n\nfunction getClientPosition(event) {\r\n    var touches = event.touches;\r\n    // Mobile points\r\n    if (touches && touches.length === 1) {\r\n        return { clientX: touches[0].clientX, clientY: touches[0].clientY };\r\n    }\r\n    // Desktop points\r\n    if (!touches) {\r\n        return { clientX: event.clientX, clientY: event.clientY };\r\n    }\r\n    return null;\r\n}\r\nfunction handlePanning(event) {\r\n    var _a = this.stateProvider, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY, _b = _a.options, limitToBounds = _b.limitToBounds, minScale = _b.minScale, _c = _a.pan, lockAxisX = _c.lockAxisX, lockAxisY = _c.lockAxisY, padding = _c.padding, paddingSize = _c.paddingSize, wrapperComponent = _a.wrapperComponent;\r\n    if (!this.startCoords)\r\n        return;\r\n    var _d = this.startCoords, x = _d.x, y = _d.y;\r\n    var positions = getClientPosition(event);\r\n    if (!positions)\r\n        return console.error(\"Cannot find mouse client positions\");\r\n    var clientX = positions.clientX, clientY = positions.clientY;\r\n    // Get Position\r\n    var mouseX = clientX - x;\r\n    var mouseY = clientY - y;\r\n    var newPositionX = lockAxisX ? positionX : mouseX;\r\n    var newPositionY = lockAxisY ? positionY : mouseY;\r\n    // padding\r\n    var paddingValue = padding && scale >= minScale ? paddingSize : 0;\r\n    // If position didn't change\r\n    if (newPositionX === positionX && newPositionY === positionY)\r\n        return;\r\n    var calculatedPosition = checkPositionBounds(newPositionX, newPositionY, this.bounds, limitToBounds, paddingValue, wrapperComponent);\r\n    // Save panned position\r\n    handlePaddingAnimation.call(this, calculatedPosition.x, calculatedPosition.y);\r\n}\r\nfunction handlePanningAnimation() {\r\n    var _a = this.stateProvider, scale = _a.scale, minScale = _a.options.minScale, _b = _a.pan, disabled = _b.disabled, padding = _b.padding, panReturnAnimationTime = _b.panReturnAnimationTime, panReturnAnimationType = _b.panReturnAnimationType;\r\n    var isDisabled = disabled || scale < minScale || !padding;\r\n    if (isDisabled)\r\n        return;\r\n    var targetState = handlePanToBounds.call(this);\r\n    animateComponent.call(this, {\r\n        targetState: targetState,\r\n        speed: panReturnAnimationTime,\r\n        type: panReturnAnimationType,\r\n    });\r\n}\r\nfunction handlePanToBounds() {\r\n    var _a = this.stateProvider, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale, _b = _a.options, disabled = _b.disabled, limitToBounds = _b.limitToBounds, limitToWrapper = _b.limitToWrapper;\r\n    var wrapperComponent = this.state.wrapperComponent;\r\n    if (disabled)\r\n        return;\r\n    var _c = this.bounds, maxPositionX = _c.maxPositionX, minPositionX = _c.minPositionX, maxPositionY = _c.maxPositionY, minPositionY = _c.minPositionY;\r\n    var xChanged = positionX > maxPositionX || positionX < minPositionX;\r\n    var yChanged = positionY > maxPositionY || positionY < minPositionY;\r\n    var mouseX = positionX > maxPositionX\r\n        ? wrapperComponent.offsetWidth\r\n        : this.stateProvider.minPositionX || 0;\r\n    var mouseY = positionY > maxPositionY\r\n        ? wrapperComponent.offsetHeight\r\n        : this.stateProvider.minPositionY || 0;\r\n    var mousePosX = mouseX;\r\n    var mousePosY = mouseY;\r\n    var _d = handleCalculatePositions.call(this, mousePosX, mousePosY, scale, this.bounds, limitToBounds || limitToWrapper), x = _d.x, y = _d.y;\r\n    return {\r\n        scale: scale,\r\n        positionX: xChanged ? x : positionX,\r\n        positionY: yChanged ? y : positionY,\r\n    };\r\n}\r\nfunction handlePaddingAnimation(positionX, positionY) {\r\n    var padding = this.stateProvider.pan.padding;\r\n    if (!padding)\r\n        return;\r\n    this.stateProvider.positionX = positionX;\r\n    this.stateProvider.positionY = positionY;\r\n    this.applyTransformation();\r\n}\n\nfunction handleCalculateZoom(delta, step, disablePadding, getTarget, isBtnFunction) {\r\n    var _a = this.stateProvider, scale = _a.scale, _b = _a.options, maxScale = _b.maxScale, minScale = _b.minScale, _c = _a.scalePadding, size = _c.size, disabled = _c.disabled, wrapperComponent = _a.wrapperComponent;\r\n    var targetScale = null;\r\n    if (isBtnFunction) {\r\n        var scaleFactor = window.innerWidth * 0.0001;\r\n        var zoomFactor = delta < 0 ? 30 : 20;\r\n        targetScale =\r\n            scale + (step - step * scaleFactor) * delta * (scale / zoomFactor);\r\n    }\r\n    else {\r\n        var wrapperToWindowScale = 2 - window.innerWidth / wrapperComponent.offsetWidth;\r\n        var scaleFactor = Math.max(0.2, Math.min(0.99, wrapperToWindowScale));\r\n        var zoomFactor = 20;\r\n        targetScale =\r\n            scale + step * delta * ((scale - scale * scaleFactor) / zoomFactor);\r\n    }\r\n    if (getTarget)\r\n        return targetScale;\r\n    var paddingEnabled = disablePadding ? false : !disabled;\r\n    var newScale = checkZoomBounds(roundNumber(targetScale, 3), minScale, maxScale, size, paddingEnabled);\r\n    return newScale;\r\n}\r\nfunction handleCalculateBounds(newScale, limitToWrapper) {\r\n    var _a = this.stateProvider, wrapperComponent = _a.wrapperComponent, contentComponent = _a.contentComponent;\r\n    var _b = getComponentsSizes(wrapperComponent, contentComponent, newScale), wrapperWidth = _b.wrapperWidth, wrapperHeight = _b.wrapperHeight, newContentWidth = _b.newContentWidth, newDiffWidth = _b.newDiffWidth, newContentHeight = _b.newContentHeight, newDiffHeight = _b.newDiffHeight;\r\n    var bounds = calculateBoundingArea(wrapperWidth, newContentWidth, newDiffWidth, wrapperHeight, newContentHeight, newDiffHeight, limitToWrapper);\r\n    // Save bounds\r\n    this.bounds = bounds;\r\n    return bounds;\r\n}\r\n/**\r\n * Wheel zoom event\r\n */\r\nfunction handleWheelZoom(event) {\r\n    var _a = this.stateProvider, scale = _a.scale, contentComponent = _a.contentComponent, limitToBounds = _a.options.limitToBounds, _b = _a.scalePadding, size = _b.size, disabled = _b.disabled, _c = _a.wheel, step = _c.step, limitsOnWheel = _c.limitsOnWheel;\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    var delta = getDelta(event, null);\r\n    var newScale = handleCalculateZoom.call(this, delta, step, !event.ctrlKey);\r\n    // if scale not change\r\n    if (scale === newScale)\r\n        return;\r\n    var bounds = handleCalculateBounds.call(this, newScale, !limitsOnWheel);\r\n    var _d = wheelMousePosition(event, contentComponent, scale), mouseX = _d.mouseX, mouseY = _d.mouseY;\r\n    var isLimitedToBounds = limitToBounds && (disabled || size === 0 || limitsOnWheel);\r\n    var _e = handleCalculatePositions.call(this, mouseX, mouseY, newScale, bounds, isLimitedToBounds), x = _e.x, y = _e.y;\r\n    this.bounds = bounds;\r\n    this.stateProvider.previousScale = scale;\r\n    this.stateProvider.scale = newScale;\r\n    this.stateProvider.positionX = x;\r\n    this.stateProvider.positionY = y;\r\n    this.applyTransformation();\r\n}\r\n/**\r\n * Zoom for animations\r\n */\r\nfunction handleZoomToPoint(isDisabled, scale, mouseX, mouseY, event) {\r\n    var _a = this.stateProvider, contentComponent = _a.contentComponent, _b = _a.options, disabled = _b.disabled, minScale = _b.minScale, maxScale = _b.maxScale, limitToBounds = _b.limitToBounds, limitToWrapper = _b.limitToWrapper;\r\n    if (disabled || isDisabled)\r\n        return;\r\n    var newScale = checkZoomBounds(roundNumber(scale, 2), minScale, maxScale, null, null);\r\n    var bounds = handleCalculateBounds.call(this, newScale, limitToWrapper);\r\n    var mousePosX = mouseX;\r\n    var mousePosY = mouseY;\r\n    // if event is present - use it's mouse position\r\n    if (event) {\r\n        var mousePosition = wheelMousePosition(event, contentComponent, scale);\r\n        mousePosX = mousePosition.mouseX;\r\n        mousePosY = mousePosition.mouseY;\r\n    }\r\n    var _c = handleCalculatePositions.call(this, mousePosX, mousePosY, newScale, bounds, limitToBounds), x = _c.x, y = _c.y;\r\n    return { scale: newScale, positionX: x, positionY: y };\r\n}\r\nfunction handlePaddingAnimation$1() {\r\n    var _a = this.stateProvider, scale = _a.scale, wrapperComponent = _a.wrapperComponent, _b = _a.options, minScale = _b.minScale, limitToBounds = _b.limitToBounds, _c = _a.scalePadding, disabled = _c.disabled, animationTime = _c.animationTime, animationType = _c.animationType;\r\n    var isDisabled = disabled || scale >= minScale;\r\n    if (scale >= 1 || limitToBounds) {\r\n        // fire fit to bounds animation\r\n        handlePanningAnimation.call(this);\r\n    }\r\n    if (isDisabled)\r\n        return;\r\n    var mouseX = wrapperComponent.offsetWidth / 2;\r\n    var mouseY = wrapperComponent.offsetHeight / 2;\r\n    var targetState = handleZoomToPoint.call(this, false, minScale, mouseX, mouseY, null);\r\n    animateComponent.call(this, {\r\n        targetState: targetState,\r\n        speed: animationTime,\r\n        type: animationType,\r\n    });\r\n}\r\n/**\r\n * Button zoom events\r\n */\r\nfunction handleDoubleClick(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    var _a = this.stateProvider, contentComponent = _a.contentComponent, scale = _a.scale, _b = _a.doubleClick, disabled = _b.disabled, mode = _b.mode, step = _b.step, animationTime = _b.animationTime, animationType = _b.animationType;\r\n    if (mode === \"reset\") {\r\n        return resetTransformations.call(this, event, animationTime);\r\n    }\r\n    var delta = mode === \"zoomOut\" ? -1 : 1;\r\n    var newScale = handleCalculateZoom.call(this, delta, step, undefined, undefined, true);\r\n    var _c = wheelMousePosition(event, contentComponent, scale), mouseX = _c.mouseX, mouseY = _c.mouseY;\r\n    var targetState = handleZoomToPoint.call(this, disabled, newScale, mouseX, mouseY);\r\n    if (targetState.scale === scale)\r\n        return;\r\n    var targetScale = handleCalculateZoom.call(this, delta, step, true, undefined, true);\r\n    var time = getButtonAnimationTime(targetScale, newScale, animationTime);\r\n    animateComponent.call(this, {\r\n        targetState: targetState,\r\n        speed: time,\r\n        type: animationType,\r\n    });\r\n}\r\nfunction handleZoomControls(customDelta, customStep) {\r\n    var _a = this.stateProvider, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY, wrapperComponent = _a.wrapperComponent, zoomIn = _a.zoomIn, zoomOut = _a.zoomOut;\r\n    var wrapperWidth = wrapperComponent.offsetWidth;\r\n    var wrapperHeight = wrapperComponent.offsetHeight;\r\n    var mouseX = (wrapperWidth / 2 - positionX) / scale;\r\n    var mouseY = (wrapperHeight / 2 - positionY) / scale;\r\n    var newScale = handleCalculateZoom.call(this, customDelta, customStep, undefined, undefined, true);\r\n    var isZoomIn = newScale > scale;\r\n    var animationSpeed = isZoomIn\r\n        ? zoomIn.animationTime\r\n        : zoomOut.animationTime;\r\n    var animationType = isZoomIn ? zoomIn.animationType : zoomOut.animationType;\r\n    var isDisabled = isZoomIn ? zoomIn.disabled : zoomOut.disabled;\r\n    var targetState = handleZoomToPoint.call(this, isDisabled, newScale, mouseX, mouseY);\r\n    if (targetState.scale === scale)\r\n        return;\r\n    var targetScale = handleCalculateZoom.call(this, customDelta, customStep, true, undefined, true);\r\n    var time = getButtonAnimationTime(targetScale, newScale, animationSpeed);\r\n    animateComponent.call(this, {\r\n        targetState: targetState,\r\n        speed: time,\r\n        type: animationType,\r\n    });\r\n}\r\nfunction resetTransformations(animationSpeed) {\r\n    var _a = this.props.defaultValues, defaultScale = _a.defaultScale, defaultPositionX = _a.defaultPositionX, defaultPositionY = _a.defaultPositionY;\r\n    var _b = this.stateProvider, scale = _b.scale, positionX = _b.positionX, positionY = _b.positionY, reset = _b.reset, _c = _b.options, disabled = _c.disabled, limitToBounds = _c.limitToBounds, centerContent = _c.centerContent, limitToWrapper = _c.limitToWrapper;\r\n    if (disabled || reset.disabled)\r\n        return;\r\n    if (scale === defaultScale &&\r\n        positionX === defaultPositionX &&\r\n        positionY === defaultPositionY)\r\n        return;\r\n    var speed = typeof animationSpeed === \"number\" ? animationSpeed : reset.animationTime;\r\n    var targetScale = checkIsNumber(defaultScale, initialState.scale);\r\n    var newPositionX = checkIsNumber(defaultPositionX, initialState.positionX);\r\n    var newPositionY = checkIsNumber(defaultPositionY, initialState.positionY);\r\n    if ((limitToBounds && !limitToWrapper) || centerContent) {\r\n        var bounds = handleCalculateBounds.call(this, targetScale, limitToWrapper);\r\n        newPositionX = bounds.minPositionX;\r\n        newPositionY = bounds.minPositionY;\r\n    }\r\n    var targetState = {\r\n        scale: targetScale,\r\n        positionX: newPositionX,\r\n        positionY: newPositionY,\r\n    };\r\n    animateComponent.call(this, {\r\n        targetState: targetState,\r\n        speed: speed,\r\n        type: reset.animationType,\r\n    });\r\n}\r\nfunction getButtonAnimationTime(targetScale, newScale, time) {\r\n    return time * (newScale / targetScale);\r\n}\n\nfunction round(number, decimal) {\r\n    var roundNumber = Math.pow(10, decimal);\r\n    return Math.round(number * roundNumber) / roundNumber;\r\n}\r\nfunction getCurrentDistance(event) {\r\n    return getDistance(event.touches[0], event.touches[1]);\r\n}\r\nfunction checkIfInfinite(number) {\r\n    return number === Infinity || number === -Infinity;\r\n}\r\nfunction calculatePinchZoom(currentDistance, pinchStartDistance) {\r\n    var _a = this.stateProvider, _b = _a.options, minScale = _b.minScale, maxScale = _b.maxScale, _c = _a.scalePadding, size = _c.size, disabled = _c.disabled;\r\n    if (typeof pinchStartDistance !== \"number\" ||\r\n        typeof currentDistance !== \"number\")\r\n        return console.error(\"Pinch touches distance was not provided\");\r\n    if (currentDistance < 0)\r\n        return;\r\n    var touchProportion = currentDistance / pinchStartDistance;\r\n    var scaleDifference = touchProportion * this.pinchStartScale;\r\n    return checkZoomBounds(roundNumber(scaleDifference, 2), minScale, maxScale, size, !disabled);\r\n}\r\nfunction calculateMidpoint(event, scale, contentComponent) {\r\n    var contentRect = contentComponent.getBoundingClientRect();\r\n    var touches = event.touches;\r\n    var firstPointX = round(touches[0].clientX - contentRect.left, 5);\r\n    var firstPointY = round(touches[0].clientY - contentRect.top, 5);\r\n    var secondPointX = round(touches[1].clientX - contentRect.left, 5);\r\n    var secondPointY = round(touches[1].clientY - contentRect.top, 5);\r\n    return {\r\n        mouseX: (firstPointX + secondPointX) / 2 / scale,\r\n        mouseY: (firstPointY + secondPointY) / 2 / scale,\r\n    };\r\n}\r\nfunction handleZoomPinch(event) {\r\n    var _a = this.stateProvider, scale = _a.scale, _b = _a.options, limitToBounds = _b.limitToBounds, limitToWrapper = _b.limitToWrapper, _c = _a.scalePadding, disabled = _c.disabled, size = _c.size, limitsOnWheel = _a.wheel.limitsOnWheel, pinch = _a.pinch;\r\n    var contentComponent = this.state.contentComponent;\r\n    if (pinch.disabled || this.stateProvider.options.disabled)\r\n        return;\r\n    if (event.cancelable) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    }\r\n    // if one finger starts from outside of wrapper\r\n    if (this.pinchStartDistance === null)\r\n        return;\r\n    // Position transformation\r\n    var _d = calculateMidpoint(event, scale, contentComponent), mouseX = _d.mouseX, mouseY = _d.mouseY;\r\n    // if touches goes off of the wrapper element\r\n    if (checkIfInfinite(mouseX) || checkIfInfinite(mouseY))\r\n        return;\r\n    var currentDistance = getCurrentDistance(event);\r\n    var newScale = calculatePinchZoom.call(this, currentDistance, this.pinchStartDistance);\r\n    if (checkIfInfinite(newScale) || newScale === scale)\r\n        return;\r\n    // Get new element sizes to calculate bounds\r\n    var bounds = handleCalculateBounds.call(this, newScale, limitToWrapper);\r\n    // Calculate transformations\r\n    var isLimitedToBounds = limitToBounds && (disabled || size === 0 || limitsOnWheel);\r\n    var _e = handleCalculatePositions.call(this, mouseX, mouseY, newScale, bounds, isLimitedToBounds), x = _e.x, y = _e.y;\r\n    this.lastDistance = currentDistance;\r\n    this.stateProvider.positionX = x;\r\n    this.stateProvider.positionY = y;\r\n    this.stateProvider.scale = newScale;\r\n    this.stateProvider.previousScale = scale;\r\n    // update component transformation\r\n    this.applyTransformation();\r\n}\n\nvar throttleTime = 30;\r\nfunction velocityTimeSpeed(speed, animationTime) {\r\n    var velocityEqualToMove = this.stateProvider.pan.velocityEqualToMove;\r\n    if (velocityEqualToMove) {\r\n        return animationTime - animationTime / Math.max(1, speed);\r\n    }\r\n    return animationTime;\r\n}\r\nfunction handleEnableVelocity() {\r\n    this.setState({ startAnimation: false });\r\n}\r\nfunction handleFireVelocity() {\r\n    this.setState({ startAnimation: true });\r\n}\r\nfunction animateVelocity() {\r\n    var _this = this;\r\n    var _a = this.stateProvider, positionX = _a.positionX, positionY = _a.positionY, limitToBounds = _a.options.limitToBounds, _b = _a.pan, velocityBaseTime = _b.velocityBaseTime, lockAxisX = _b.lockAxisX, lockAxisY = _b.lockAxisY, velocityAnimationType = _b.velocityAnimationType, panReturnAnimationTime = _b.panReturnAnimationTime, panReturnAnimationType = _b.panReturnAnimationType, padding = _b.padding, paddingSize = _b.paddingSize, wrapperComponent = _a.wrapperComponent;\r\n    if (!this.mounted)\r\n        return;\r\n    if (!this.velocity || !this.bounds)\r\n        return handleDisableAnimation.call(this);\r\n    var _c = this.bounds, maxPositionX = _c.maxPositionX, minPositionX = _c.minPositionX, maxPositionY = _c.maxPositionY, minPositionY = _c.minPositionY;\r\n    var _d = this.velocity, velocityX = _d.velocityX, velocityY = _d.velocityY, velocity = _d.velocity;\r\n    var animationTime = velocityTimeSpeed.call(this, velocity, velocityBaseTime);\r\n    if (!animationTime) {\r\n        handlePanningAnimation.call(this);\r\n        return;\r\n    }\r\n    var targetX = velocityX;\r\n    var targetY = velocityY;\r\n    // pan return animation\r\n    var newAnimationTime = animationTime > panReturnAnimationTime\r\n        ? animationTime\r\n        : panReturnAnimationTime;\r\n    var paddingValue = padding ? paddingSize : 0;\r\n    var paddingX = wrapperComponent\r\n        ? (paddingValue * wrapperComponent.offsetWidth) / 100\r\n        : 0;\r\n    var paddingY = wrapperComponent\r\n        ? (paddingValue * wrapperComponent.offsetHeight) / 100\r\n        : 0;\r\n    var maxTargetX = maxPositionX + paddingX;\r\n    var minTargetX = minPositionX - paddingX;\r\n    var maxTargetY = maxPositionY + paddingY;\r\n    var minTargetY = minPositionY - paddingY;\r\n    var startPosition = checkPositionBounds(positionX, positionY, this.bounds, limitToBounds, paddingValue, wrapperComponent);\r\n    var startTime = new Date().getTime();\r\n    // animation start timestamp\r\n    animate.call(this, velocityAnimationType, newAnimationTime, function (step) {\r\n        var frameTime = new Date().getTime() - startTime;\r\n        var animationProgress = frameTime / panReturnAnimationTime;\r\n        var returnAnimation = availableAnimations[panReturnAnimationType];\r\n        var customReturnStep = returnAnimation(animationProgress);\r\n        if (frameTime > panReturnAnimationTime ||\r\n            customReturnStep > 1 ||\r\n            customReturnStep === Infinity ||\r\n            customReturnStep === -Infinity)\r\n            customReturnStep = 1;\r\n        var currentPositionX = getPosition(lockAxisX, targetX, step, customReturnStep, minPositionX, maxPositionX, limitToBounds, positionX, startPosition.x, minTargetX, maxTargetX);\r\n        var currentPositionY = getPosition(lockAxisY, targetY, step, customReturnStep, minPositionY, maxPositionY, limitToBounds, positionY, startPosition.y, minTargetY, maxTargetY);\r\n        if (positionX !== currentPositionX || positionY !== currentPositionY) {\r\n            // Save panned position\r\n            _this.stateProvider.positionX = currentPositionX;\r\n            _this.stateProvider.positionY = currentPositionY;\r\n            // apply animation changes\r\n            _this.applyTransformation();\r\n        }\r\n    });\r\n}\r\nfunction calculateVelocityStart(event) {\r\n    var _this = this;\r\n    var _a = this.stateProvider, scale = _a.scale, disabled = _a.options.disabled, _b = _a.pan, velocity = _b.velocity, velocitySensitivity = _b.velocitySensitivity, velocityActiveScale = _b.velocityActiveScale, velocityMinSpeed = _b.velocityMinSpeed, wrapperComponent = _a.wrapperComponent;\r\n    if (!velocity || velocityActiveScale >= scale || disabled)\r\n        return;\r\n    handleEnableVelocity.call(this);\r\n    var now = Date.now();\r\n    if (this.lastMousePosition) {\r\n        var position_1 = getClientPosition(event);\r\n        if (!position_1)\r\n            return console.error(\"No mouse or touch position detected\");\r\n        var clientX = position_1.clientX, clientY = position_1.clientY;\r\n        var distanceX = clientX - this.lastMousePosition.clientX;\r\n        var distanceY = clientY - this.lastMousePosition.clientY;\r\n        var interval = now - this.velocityTime;\r\n        var wrapperToWindowScaleX = 2 - wrapperComponent.offsetWidth / window.innerWidth;\r\n        var wrapperToWindowScaleY = 2 - wrapperComponent.offsetHeight / window.innerHeight;\r\n        var scaledX = 20 * Math.max(velocityMinSpeed, Math.min(2, wrapperToWindowScaleX));\r\n        var scaledY = 20 * Math.max(velocityMinSpeed, Math.min(2, wrapperToWindowScaleY));\r\n        var velocityX = (distanceX / interval) * velocitySensitivity * scale * scaledX;\r\n        var velocityY = (distanceY / interval) * velocitySensitivity * scale * scaledY;\r\n        var speed = distanceX * distanceX + distanceY * distanceY;\r\n        var velocity_1 = (Math.sqrt(speed) / interval) * velocitySensitivity;\r\n        if (this.velocity && velocity_1 < this.velocity.velocity && this.throttle)\r\n            return;\r\n        this.velocity = { velocityX: velocityX, velocityY: velocityY, velocity: velocity_1 };\r\n        // throttling\r\n        if (this.throttle)\r\n            clearTimeout(this.throttle);\r\n        this.throttle = setTimeout(function () {\r\n            if (_this.mounted)\r\n                _this.throttle = false;\r\n        }, throttleTime);\r\n    }\r\n    var position = getClientPosition(event);\r\n    this.lastMousePosition = position;\r\n    this.velocityTime = now;\r\n}\r\nfunction getPosition(isLocked, target, step, panReturnStep, minBound, maxBound, limitToBounds, offset, startPosition, minTarget, maxTarget) {\r\n    if (limitToBounds) {\r\n        if (startPosition > minBound && offset > maxBound) {\r\n            var newPosition = startPosition - (startPosition - maxBound) * panReturnStep;\r\n            if (newPosition > maxTarget)\r\n                return maxTarget;\r\n            if (newPosition < maxBound)\r\n                return maxBound;\r\n            return newPosition;\r\n        }\r\n        if (startPosition < minBound && offset < minBound) {\r\n            var newPosition = startPosition - (startPosition - minBound) * panReturnStep;\r\n            if (newPosition < minTarget)\r\n                return minTarget;\r\n            if (newPosition > minBound)\r\n                return minBound;\r\n            return newPosition;\r\n        }\r\n    }\r\n    if (isLocked)\r\n        return startPosition;\r\n    var offsetPosition = offset + target * step;\r\n    return boundLimiter(offsetPosition, minBound, maxBound, limitToBounds);\r\n}\n\n// We want to make event listeners non-passive, and to do so have to check\r\nfunction makePassiveEventOption(passive) {\r\n    return  passive;\r\n}\n\nvar propsList = [\r\n    \"previousScale\",\r\n    \"scale\",\r\n    \"positionX\",\r\n    \"positionY\",\r\n    \"defaultPositionX\",\r\n    \"defaultPositionY\",\r\n    \"defaultScale\",\r\n    \"onWheelStart\",\r\n    \"onWheel\",\r\n    \"onWheelStop\",\r\n    \"onPanningStart\",\r\n    \"onPanning\",\r\n    \"onPanningStop\",\r\n    \"onPinchingStart\",\r\n    \"onPinching\",\r\n    \"onPinchingStop\",\r\n    \"onZoomChange\",\r\n    \"options\",\r\n    \"wheel\",\r\n    \"scalePadding\",\r\n    \"pan\",\r\n    \"pinch\",\r\n    \"zoomIn\",\r\n    \"zoomOut\",\r\n    \"doubleClick\",\r\n    \"reset\",\r\n];\r\nvar getValidPropsFromObject = function (props) {\r\n    return Object.keys(props).reduce(function (acc, key) {\r\n        if (propsList.includes(key)) {\r\n            acc[key] = props[key];\r\n        }\r\n        return acc;\r\n    }, {});\r\n};\n\nvar Context = React.createContext({});\r\nvar wheelStopEventTimer = null;\r\nvar wheelStopEventTime = 180;\r\nvar wheelAnimationTimer = null;\r\nvar wheelAnimationTime = 100;\r\nvar StateProvider = /** @class */ (function (_super) {\r\n    __extends(StateProvider, _super);\r\n    function StateProvider() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.mounted = true;\r\n        _this.state = {\r\n            wrapperComponent: undefined,\r\n            contentComponent: undefined,\r\n        };\r\n        _this.stateProvider = __assign(__assign(__assign(__assign({}, initialState), mergeProps(initialState, _this.props.dynamicValues)), _this.props.defaultValues), { previousScale: _this.props.dynamicValues.scale ||\r\n                _this.props.defaultValues.scale ||\r\n                initialState.scale });\r\n        _this.windowToWrapperScaleX = 0;\r\n        _this.windowToWrapperScaleY = 0;\r\n        // panning helpers\r\n        _this.startCoords = null;\r\n        _this.isDown = false;\r\n        // pinch helpers\r\n        _this.pinchStartDistance = null;\r\n        _this.lastDistance = null;\r\n        _this.pinchStartScale = null;\r\n        _this.distance = null;\r\n        _this.bounds = null;\r\n        // velocity helpers\r\n        _this.velocityTime = null;\r\n        _this.lastMousePosition = null;\r\n        _this.velocity = null;\r\n        _this.offsetX = null;\r\n        _this.offsetY = null;\r\n        _this.throttle = false;\r\n        // wheel helpers\r\n        _this.previousWheelEvent = null;\r\n        _this.lastScale = null;\r\n        // animations helpers\r\n        _this.animate = null;\r\n        _this.animation = null;\r\n        _this.maxBounds = null;\r\n        //////////\r\n        // Wheel\r\n        //////////\r\n        _this.handleWheel = function (event) {\r\n            var _a = _this.stateProvider, scale = _a.scale, _b = _a.wheel, disabled = _b.disabled, wheelEnabled = _b.wheelEnabled, touchPadEnabled = _b.touchPadEnabled;\r\n            var _c = _this.props, onWheelStart = _c.onWheelStart, onWheel = _c.onWheel, onWheelStop = _c.onWheelStop;\r\n            var _d = _this.state, wrapperComponent = _d.wrapperComponent, contentComponent = _d.contentComponent;\r\n            if (_this.isDown ||\r\n                disabled ||\r\n                _this.stateProvider.options.disabled ||\r\n                !wrapperComponent ||\r\n                !contentComponent)\r\n                return;\r\n            // ctrlKey detects if touchpad execute wheel or pinch gesture\r\n            if (!wheelEnabled && !event.ctrlKey)\r\n                return;\r\n            if (!touchPadEnabled && event.ctrlKey)\r\n                return;\r\n            // Wheel start event\r\n            if (!wheelStopEventTimer) {\r\n                _this.lastScale = scale;\r\n                handleDisableAnimation.call(_this);\r\n                handleCallback(onWheelStart, _this.getCallbackProps());\r\n            }\r\n            // Wheel event\r\n            handleWheelZoom.call(_this, event);\r\n            handleCallback(onWheel, _this.getCallbackProps());\r\n            _this.applyTransformation(null, null, null);\r\n            _this.previousWheelEvent = event;\r\n            // Wheel stop event\r\n            if (handleWheelStop(_this.previousWheelEvent, event, _this.stateProvider)) {\r\n                clearTimeout(wheelStopEventTimer);\r\n                wheelStopEventTimer = setTimeout(function () {\r\n                    if (!_this.mounted)\r\n                        return;\r\n                    handleCallback(onWheelStop, _this.getCallbackProps());\r\n                    wheelStopEventTimer = null;\r\n                }, wheelStopEventTime);\r\n            }\r\n            // cancel animation\r\n            _this.animate = false;\r\n            // fire animation\r\n            _this.lastScale = _this.stateProvider.scale;\r\n            clearTimeout(wheelAnimationTimer);\r\n            wheelAnimationTimer = setTimeout(function () {\r\n                if (!_this.mounted)\r\n                    return;\r\n                handlePaddingAnimation$1.call(_this, event);\r\n            }, wheelAnimationTime);\r\n        };\r\n        //////////\r\n        // Panning\r\n        //////////\r\n        _this.checkPanningTarget = function (event) {\r\n            var disableOnTarget = _this.stateProvider.pan.disableOnTarget;\r\n            return (disableOnTarget\r\n                .map(function (tag) { return tag.toUpperCase(); })\r\n                .includes(event.target.tagName) ||\r\n                disableOnTarget.find(function (element) {\r\n                    return event.target.classList.value.includes(element);\r\n                }));\r\n        };\r\n        _this.checkIsPanningActive = function (event) {\r\n            var disabled = _this.stateProvider.pan.disabled;\r\n            var _a = _this.state, wrapperComponent = _a.wrapperComponent, contentComponent = _a.contentComponent;\r\n            return (!_this.isDown ||\r\n                disabled ||\r\n                _this.stateProvider.options.disabled ||\r\n                (event.touches &&\r\n                    (event.touches.length !== 1 ||\r\n                        Math.abs(_this.startCoords.x - event.touches[0].clientX) < 1 ||\r\n                        Math.abs(_this.startCoords.y - event.touches[0].clientY) < 1)) ||\r\n                !wrapperComponent ||\r\n                !contentComponent);\r\n        };\r\n        _this.handleSetUpPanning = function (x, y) {\r\n            var _a = _this.stateProvider, positionX = _a.positionX, positionY = _a.positionY;\r\n            _this.isDown = true;\r\n            _this.startCoords = { x: x - positionX, y: y - positionY };\r\n            handleCallback(_this.props.onPanningStart, _this.getCallbackProps());\r\n        };\r\n        _this.handleStartPanning = function (event) {\r\n            var _a = _this.stateProvider, wrapperComponent = _a.wrapperComponent, scale = _a.scale, _b = _a.options, minScale = _b.minScale, maxScale = _b.maxScale, limitToWrapper = _b.limitToWrapper, disabled = _a.pan.disabled;\r\n            var target = event.target, touches = event.touches;\r\n            if (disabled ||\r\n                _this.stateProvider.options.disabled ||\r\n                (wrapperComponent && !wrapperComponent.contains(target)) ||\r\n                _this.checkPanningTarget(event) ||\r\n                scale < minScale ||\r\n                scale > maxScale)\r\n                return;\r\n            handleDisableAnimation.call(_this);\r\n            _this.bounds = handleCalculateBounds.call(_this, scale, limitToWrapper);\r\n            // Mobile points\r\n            if (touches && touches.length === 1) {\r\n                _this.handleSetUpPanning(touches[0].clientX, touches[0].clientY);\r\n            }\r\n            // Desktop points\r\n            if (!touches) {\r\n                _this.handleSetUpPanning(event.clientX, event.clientY);\r\n            }\r\n        };\r\n        _this.handlePanning = function (event) {\r\n            if (_this.isDown)\r\n                event.preventDefault();\r\n            if (_this.checkIsPanningActive(event))\r\n                return;\r\n            event.stopPropagation();\r\n            calculateVelocityStart.call(_this, event);\r\n            handlePanning.call(_this, event);\r\n            handleCallback(_this.props.onPanning, _this.getCallbackProps());\r\n        };\r\n        _this.handleStopPanning = function () {\r\n            if (_this.isDown) {\r\n                _this.isDown = false;\r\n                _this.animate = false;\r\n                _this.animation = false;\r\n                handleFireVelocity.call(_this);\r\n                handleCallback(_this.props.onPanningStop, _this.getCallbackProps());\r\n                var _a = _this.stateProvider, velocity = _a.pan.velocity, scale = _a.scale;\r\n                // start velocity animation\r\n                if (_this.velocity && velocity && scale > 1) {\r\n                    animateVelocity.call(_this);\r\n                }\r\n                else {\r\n                    // fire fit to bounds animation\r\n                    handlePanningAnimation.call(_this);\r\n                }\r\n            }\r\n        };\r\n        //////////\r\n        // Pinch\r\n        //////////\r\n        _this.handlePinchStart = function (event) {\r\n            var scale = _this.stateProvider.scale;\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            handleDisableAnimation.call(_this);\r\n            var distance = getDistance(event.touches[0], event.touches[1]);\r\n            _this.pinchStartDistance = distance;\r\n            _this.lastDistance = distance;\r\n            _this.pinchStartScale = scale;\r\n            _this.isDown = false;\r\n            handleCallback(_this.props.onPinchingStart, _this.getCallbackProps());\r\n        };\r\n        _this.handlePinch = function (event) {\r\n            _this.isDown = false;\r\n            handleZoomPinch.call(_this, event);\r\n            handleCallback(_this.props.onPinching, _this.getCallbackProps());\r\n        };\r\n        _this.handlePinchStop = function () {\r\n            if (typeof _this.pinchStartScale === \"number\") {\r\n                _this.isDown = false;\r\n                _this.velocity = null;\r\n                _this.lastDistance = null;\r\n                _this.pinchStartScale = null;\r\n                _this.pinchStartDistance = null;\r\n                handlePaddingAnimation$1.call(_this);\r\n                handleCallback(_this.props.onPinchingStop, _this.getCallbackProps());\r\n            }\r\n        };\r\n        //////////\r\n        // Touch Events\r\n        //////////\r\n        _this.handleTouchStart = function (event) {\r\n            var _a = _this.stateProvider, wrapperComponent = _a.wrapperComponent, contentComponent = _a.contentComponent, scale = _a.scale, _b = _a.options, disabled = _b.disabled, minScale = _b.minScale;\r\n            var touches = event.touches;\r\n            if (disabled || !wrapperComponent || !contentComponent || scale < minScale)\r\n                return;\r\n            handleDisableAnimation.call(_this);\r\n            if (touches && touches.length === 1)\r\n                return _this.handleStartPanning(event);\r\n            if (touches && touches.length === 2)\r\n                return _this.handlePinchStart(event);\r\n        };\r\n        _this.handleTouch = function (event) {\r\n            var _a = _this.stateProvider, pan = _a.pan, pinch = _a.pinch, options = _a.options;\r\n            if (options.disabled)\r\n                return;\r\n            if (!pan.disabled && event.touches.length === 1)\r\n                return _this.handlePanning(event);\r\n            if (!pinch.disabled && event.touches.length === 2)\r\n                return _this.handlePinch(event);\r\n        };\r\n        _this.handleTouchStop = function () {\r\n            _this.handleStopPanning();\r\n            _this.handlePinchStop();\r\n        };\r\n        //////////\r\n        // Controls\r\n        //////////\r\n        _this.zoomIn = function (event) {\r\n            var _a = _this.stateProvider, _b = _a.zoomIn, disabled = _b.disabled, step = _b.step, options = _a.options;\r\n            var _c = _this.state, wrapperComponent = _c.wrapperComponent, contentComponent = _c.contentComponent;\r\n            if (!event)\r\n                throw Error(\"Zoom in function requires event prop\");\r\n            if (disabled || options.disabled || !wrapperComponent || !contentComponent)\r\n                return;\r\n            handleZoomControls.call(_this, 1, step);\r\n        };\r\n        _this.zoomOut = function (event) {\r\n            var _a = _this.stateProvider, _b = _a.zoomOut, disabled = _b.disabled, step = _b.step, options = _a.options;\r\n            var _c = _this.state, wrapperComponent = _c.wrapperComponent, contentComponent = _c.contentComponent;\r\n            if (!event)\r\n                throw Error(\"Zoom out function requires event prop\");\r\n            if (disabled || options.disabled || !wrapperComponent || !contentComponent)\r\n                return;\r\n            handleZoomControls.call(_this, -1, step);\r\n        };\r\n        _this.handleDbClick = function (event) {\r\n            var _a = _this.stateProvider, options = _a.options, _b = _a.doubleClick, disabled = _b.disabled, step = _b.step;\r\n            var _c = _this.state, wrapperComponent = _c.wrapperComponent, contentComponent = _c.contentComponent;\r\n            if (!event)\r\n                throw Error(\"Double click function requires event prop\");\r\n            if (disabled || options.disabled || !wrapperComponent || !contentComponent)\r\n                return;\r\n            handleDoubleClick.call(_this, event, 1, step);\r\n        };\r\n        _this.setScale = function (newScale, speed, type) {\r\n            if (speed === void 0) { speed = 200; }\r\n            if (type === void 0) { type = \"easeOut\"; }\r\n            var _a = _this.stateProvider, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale, disabled = _a.options.disabled;\r\n            var _b = _this.state, wrapperComponent = _b.wrapperComponent, contentComponent = _b.contentComponent;\r\n            if (disabled || !wrapperComponent || !contentComponent)\r\n                return;\r\n            var targetState = {\r\n                positionX: positionX,\r\n                positionY: positionY,\r\n                scale: isNaN(newScale) ? scale : newScale,\r\n            };\r\n            animateComponent.call(_this, {\r\n                targetState: targetState,\r\n                speed: speed,\r\n                type: type,\r\n            });\r\n        };\r\n        _this.setPositionX = function (newPosX, speed, type) {\r\n            if (speed === void 0) { speed = 200; }\r\n            if (type === void 0) { type = \"easeOut\"; }\r\n            var _a = _this.stateProvider, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale, _b = _a.options, disabled = _b.disabled, transformEnabled = _b.transformEnabled;\r\n            var _c = _this.state, wrapperComponent = _c.wrapperComponent, contentComponent = _c.contentComponent;\r\n            if (disabled || !transformEnabled || !wrapperComponent || !contentComponent)\r\n                return;\r\n            var targetState = {\r\n                positionX: isNaN(newPosX) ? positionX : newPosX,\r\n                positionY: positionY,\r\n                scale: scale,\r\n            };\r\n            animateComponent.call(_this, {\r\n                targetState: targetState,\r\n                speed: speed,\r\n                type: type,\r\n            });\r\n        };\r\n        _this.setPositionY = function (newPosY, speed, type) {\r\n            if (speed === void 0) { speed = 200; }\r\n            if (type === void 0) { type = \"easeOut\"; }\r\n            var _a = _this.stateProvider, positionX = _a.positionX, scale = _a.scale, positionY = _a.positionY, _b = _a.options, disabled = _b.disabled, transformEnabled = _b.transformEnabled;\r\n            var _c = _this.state, wrapperComponent = _c.wrapperComponent, contentComponent = _c.contentComponent;\r\n            if (disabled || !transformEnabled || !wrapperComponent || !contentComponent)\r\n                return;\r\n            var targetState = {\r\n                positionX: positionX,\r\n                positionY: isNaN(newPosY) ? positionY : newPosY,\r\n                scale: scale,\r\n            };\r\n            animateComponent.call(_this, {\r\n                targetState: targetState,\r\n                speed: speed,\r\n                type: type,\r\n            });\r\n        };\r\n        _this.setTransform = function (newPosX, newPosY, newScale, speed, type) {\r\n            if (speed === void 0) { speed = 200; }\r\n            if (type === void 0) { type = \"easeOut\"; }\r\n            var _a = _this.stateProvider, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale, _b = _a.options, disabled = _b.disabled, transformEnabled = _b.transformEnabled;\r\n            var _c = _this.state, wrapperComponent = _c.wrapperComponent, contentComponent = _c.contentComponent;\r\n            if (disabled || !transformEnabled || !wrapperComponent || !contentComponent)\r\n                return;\r\n            var targetState = {\r\n                positionX: isNaN(newPosX) ? positionX : newPosX,\r\n                positionY: isNaN(newPosY) ? positionY : newPosY,\r\n                scale: isNaN(newScale) ? scale : newScale,\r\n            };\r\n            animateComponent.call(_this, {\r\n                targetState: targetState,\r\n                speed: speed,\r\n                type: type,\r\n            });\r\n        };\r\n        _this.resetTransform = function () {\r\n            var _a = _this.stateProvider.options, disabled = _a.disabled, transformEnabled = _a.transformEnabled;\r\n            if (disabled || !transformEnabled)\r\n                return;\r\n            resetTransformations.call(_this);\r\n        };\r\n        _this.setDefaultState = function () {\r\n            _this.animation = null;\r\n            _this.stateProvider = __assign(__assign(__assign({}, _this.stateProvider), { scale: initialState.scale, positionX: initialState.positionX, positionY: initialState.positionY }), _this.props.defaultValues);\r\n            _this.forceUpdate();\r\n        };\r\n        //////////\r\n        // Setters\r\n        //////////\r\n        _this.setWrapperComponent = function (wrapperComponent) {\r\n            _this.setState({ wrapperComponent: wrapperComponent });\r\n        };\r\n        _this.setContentComponent = function (contentComponent) {\r\n            _this.setState({ contentComponent: contentComponent }, function () {\r\n                var _a = _this.stateProvider, wrapperComponent = _a.wrapperComponent, _b = _a.options, centerContent = _b.centerContent, limitToBounds = _b.limitToBounds, limitToWrapper = _b.limitToWrapper, scale = _a.scale;\r\n                var _c = _this.props.defaultValues, positionX = _c.positionX, positionY = _c.positionY;\r\n                if ((limitToBounds && !limitToWrapper) ||\r\n                    (centerContent && !positionX && !positionY)) {\r\n                    var transform = \"translate(25%, 25%) scale(\" + scale + \")\";\r\n                    contentComponent.style.transform = transform;\r\n                    contentComponent.style.WebkitTransform = transform;\r\n                    // force update to inject state to the context\r\n                    _this.forceUpdate();\r\n                    var startTime_1 = new Date().getTime();\r\n                    var maxTimeWait_1 = 2000;\r\n                    var interval_1 = setInterval(function () {\r\n                        if (wrapperComponent.offsetWidth) {\r\n                            var bounds = handleCalculateBounds.call(_this, scale, false);\r\n                            _this.stateProvider.positionX = bounds.minPositionX;\r\n                            _this.stateProvider.positionY = bounds.minPositionY;\r\n                            _this.applyTransformation(null, null, null);\r\n                            clearInterval(interval_1);\r\n                            interval_1 = null;\r\n                        }\r\n                        else if (new Date().getTime() - startTime_1 > maxTimeWait_1) {\r\n                            clearInterval(interval_1);\r\n                            interval_1 = null;\r\n                        }\r\n                    }, 20);\r\n                }\r\n                else {\r\n                    _this.applyTransformation(null, null, null);\r\n                }\r\n            });\r\n        };\r\n        _this.applyTransformation = function (newScale, posX, posY) {\r\n            if (!_this.mounted)\r\n                return;\r\n            var contentComponent = _this.state.contentComponent;\r\n            var onZoomChange = _this.props.onZoomChange;\r\n            var _a = _this.stateProvider, previousScale = _a.previousScale, scale = _a.scale, positionX = _a.positionX, positionY = _a.positionY;\r\n            if (!contentComponent)\r\n                return console.error(\"There is no content component\");\r\n            var transform = \"translate(\" + (posX || positionX) + \"px, \" + (posY ||\r\n                positionY) + \"px) scale(\" + (newScale || scale) + \")\";\r\n            contentComponent.style.transform = transform;\r\n            contentComponent.style.WebkitTransform = transform;\r\n            // force update to inject state to the context\r\n            _this.forceUpdate();\r\n            if (onZoomChange && previousScale !== scale) {\r\n                handleCallback(onZoomChange, _this.getCallbackProps());\r\n            }\r\n        };\r\n        //////////\r\n        // Props\r\n        //////////\r\n        _this.getCallbackProps = function () { return getValidPropsFromObject(_this.stateProvider); };\r\n        return _this;\r\n    }\r\n    StateProvider.prototype.componentDidMount = function () {\r\n        var passiveOption = makePassiveEventOption(false);\r\n        // Panning on window to allow panning when mouse is out of wrapper\r\n        window.addEventListener(\"mousedown\", this.handleStartPanning, passiveOption);\r\n        window.addEventListener(\"mousemove\", this.handlePanning, passiveOption);\r\n        window.addEventListener(\"mouseup\", this.handleStopPanning, passiveOption);\r\n    };\r\n    StateProvider.prototype.componentWillUnmount = function () {\r\n        var passiveOption = makePassiveEventOption(false);\r\n        window.removeEventListener(\"mousedown\", this.handleStartPanning, passiveOption);\r\n        window.removeEventListener(\"mousemove\", this.handlePanning, passiveOption);\r\n        window.removeEventListener(\"mouseup\", this.handleStopPanning, passiveOption);\r\n        handleDisableAnimation.call(this);\r\n    };\r\n    StateProvider.prototype.componentDidUpdate = function (oldProps, oldState) {\r\n        var _a = this.state, wrapperComponent = _a.wrapperComponent, contentComponent = _a.contentComponent;\r\n        var dynamicValues = this.props.dynamicValues;\r\n        if (!oldState.contentComponent && contentComponent) {\r\n            this.stateProvider.contentComponent = contentComponent;\r\n        }\r\n        if (!oldState.wrapperComponent &&\r\n            wrapperComponent &&\r\n            wrapperComponent !== undefined) {\r\n            this.stateProvider.wrapperComponent = wrapperComponent;\r\n            this.windowToWrapperScaleX = getWindowScaleX(wrapperComponent);\r\n            this.windowToWrapperScaleY = getWindowScaleY(wrapperComponent);\r\n            // Zooming events on wrapper\r\n            var passiveOption = makePassiveEventOption(false);\r\n            wrapperComponent.addEventListener(\"wheel\", this.handleWheel, passiveOption);\r\n            wrapperComponent.addEventListener(\"dblclick\", this.handleDbClick, passiveOption);\r\n            wrapperComponent.addEventListener(\"touchstart\", this.handleTouchStart, passiveOption);\r\n            wrapperComponent.addEventListener(\"touchmove\", this.handleTouch, passiveOption);\r\n            wrapperComponent.addEventListener(\"touchend\", this.handleTouchStop, passiveOption);\r\n        }\r\n        // set bound for animations\r\n        if ((wrapperComponent && contentComponent) ||\r\n            oldProps.dynamicValues !== dynamicValues) {\r\n            this.maxBounds = handleCalculateBounds.call(this, this.stateProvider.scale, this.stateProvider.options.limitToWrapper);\r\n        }\r\n        // must be at the end of the update function, updates\r\n        if (oldProps.dynamicValues && oldProps.dynamicValues !== dynamicValues) {\r\n            this.animation = null;\r\n            this.stateProvider = __assign(__assign({}, this.stateProvider), mergeProps(this.stateProvider, dynamicValues));\r\n            this.applyTransformation(null, null, null);\r\n        }\r\n    };\r\n    StateProvider.prototype.render = function () {\r\n        var _a = this.state, wrapperComponent = _a.wrapperComponent, contentComponent = _a.contentComponent;\r\n        /**\r\n         * Context provider value\r\n         */\r\n        var value = {\r\n            loaded: Boolean(wrapperComponent && contentComponent),\r\n            state: this.getCallbackProps(),\r\n            dispatch: {\r\n                setScale: this.setScale,\r\n                setPositionX: this.setPositionX,\r\n                setPositionY: this.setPositionY,\r\n                zoomIn: this.zoomIn,\r\n                zoomOut: this.zoomOut,\r\n                setTransform: this.setTransform,\r\n                resetTransform: this.resetTransform,\r\n                setDefaultState: this.setDefaultState,\r\n            },\r\n            nodes: {\r\n                setWrapperComponent: this.setWrapperComponent,\r\n                setContentComponent: this.setContentComponent,\r\n            },\r\n        };\r\n        var children = this.props.children;\r\n        var content = typeof children === \"function\"\r\n            ? children(__assign(__assign({}, value.state), value.dispatch))\r\n            : children;\r\n        return React.createElement(Context.Provider, { value: value }, content);\r\n    };\r\n    return StateProvider;\r\n}(Component));\n\nvar TransformWrapper = function (_a) {\r\n    var children = _a.children, defaultPositionX = _a.defaultPositionX, defaultPositionY = _a.defaultPositionY, defaultScale = _a.defaultScale, onWheelStart = _a.onWheelStart, onWheel = _a.onWheel, onWheelStop = _a.onWheelStop, onPanningStart = _a.onPanningStart, onPanning = _a.onPanning, onPanningStop = _a.onPanningStop, onPinchingStart = _a.onPinchingStart, onPinching = _a.onPinching, onPinchingStop = _a.onPinchingStop, onZoomChange = _a.onZoomChange, rest = __rest(_a, [\"children\", \"defaultPositionX\", \"defaultPositionY\", \"defaultScale\", \"onWheelStart\", \"onWheel\", \"onWheelStop\", \"onPanningStart\", \"onPanning\", \"onPanningStop\", \"onPinchingStart\", \"onPinching\", \"onPinchingStop\", \"onZoomChange\"]);\r\n    var props = __assign({}, rest);\r\n    if (props.options && props.options.limitToWrapper) {\r\n        props.options.limitToBounds = true;\r\n    }\r\n    return (React.createElement(StateProvider, { defaultValues: deleteUndefinedProps({\r\n            positionX: defaultPositionX,\r\n            positionY: defaultPositionY,\r\n            scale: defaultScale,\r\n        }), dynamicValues: deleteUndefinedProps(getValidPropsFromObject(props)), onWheelStart: onWheelStart, onWheel: onWheel, onWheelStop: onWheelStop, onPanningStart: onPanningStart, onPanning: onPanning, onPanningStop: onPanningStop, onPinchingStart: onPinchingStart, onPinching: onPinching, onPinchingStop: onPinchingStop, onZoomChange: onZoomChange }, children));\r\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".TransformComponent-module_container__3NwNd {\\n  position: relative;\\n  width: fit-content;\\n  height: fit-content;\\n  overflow: hidden;\\n  -webkit-touch-callout: none; /* iOS Safari */\\n  -webkit-user-select: none; /* Safari */\\n  -khtml-user-select: none; /* Konqueror HTML */\\n  -moz-user-select: none; /* Firefox */\\n  -ms-user-select: none; /* Internet Explorer/Edge */\\n  user-select: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n.TransformComponent-module_content__TZU5O {\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: fit-content;\\n  height: fit-content;\\n  margin: 0;\\n  padding: 0;\\n  transform-origin: 0% 0%;\\n}\\n.TransformComponent-module_content__TZU5O img {\\n  pointer-events: none;\\n}\\n\";\nvar styles = {\"container\":\"TransformComponent-module_container__3NwNd\",\"content\":\"TransformComponent-module_content__TZU5O\"};\nstyleInject(css);\n\nvar TransformComponent = /** @class */ (function (_super) {\r\n    __extends(TransformComponent, _super);\r\n    function TransformComponent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.wrapperRef = React.createRef();\r\n        _this.contentRef = React.createRef();\r\n        return _this;\r\n    }\r\n    TransformComponent.prototype.componentDidMount = function () {\r\n        var nodes = this.context.nodes;\r\n        nodes.setWrapperComponent(this.wrapperRef.current);\r\n        nodes.setContentComponent(this.contentRef.current);\r\n    };\r\n    TransformComponent.prototype.render = function () {\r\n        var children = this.props.children;\r\n        var _a = this.context.state, positionX = _a.positionX, positionY = _a.positionY, scale = _a.scale, _b = _a.options, wrapperClass = _b.wrapperClass, contentClass = _b.contentClass;\r\n        var style = {\r\n            WebkitTransform: \"translate(\" + positionX + \"px, \" + positionY + \"px) scale(\" + scale + \")\",\r\n            transform: \"translate(\" + positionX + \"px, \" + positionY + \"px) scale(\" + scale + \")\",\r\n        };\r\n        return (React.createElement(\"div\", { ref: this.wrapperRef, className: \"react-transform-component \" + styles.container + \" \" + wrapperClass },\r\n            React.createElement(\"div\", { ref: this.contentRef, className: \"react-transform-element \" + styles.content + \" \" + contentClass, style: style }, children)));\r\n    };\r\n    return TransformComponent;\r\n}(React.Component));\r\nTransformComponent.contextType = Context;\n\nexport { TransformComponent, TransformWrapper };\n//# sourceMappingURL=index.es.js.map\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;;;AAAA;AAAA;AAAA;AAAA;AAmBA;AACA;AAFA;AAlBA;AAAA;AAAA;AAAA;AAAA;AACA;AA8BA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAFA;AAKA;AACA;AACA;AAAA;AAAA;AACA;AAHA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AApNA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAUA;AACA;AACA;AACA;AACA;AALA;AA4MA;;;;;;;;;;;;;AC9OA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;;;AAAA;AAWA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAzBA;AAEA;AACA;AAFA;AAMA;AACA;AAFA;AAqBA;;;;;;;;;;;;;;;;;;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;;;AAAA;AAAA;AAAA;AAAA;AAQA;AADA;AAPA;AACA;AAUA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AApCA;AAEA;AACA;AACA;AAHA;AAqCA;;;;;;;;;;;;;ACtDA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;;;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AAJA;AAOA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AA9BA;AAEA;AACA;AACA;AACA;AAJA;AA+BA;;;;;;;;;;;;;;;;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;;;AAAA;AAAA;AAAA;AAAA;AAiBA;AADA;AAhBA;AACA;AAmBA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAhDA;AAEA;AACA;AACA;AACA;AACA;AALA;AASA;AACA;AACA;AACA;AAJA;AAyCA;;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;;;AAAA;AAAA;AAAA;AAAA;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AArCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA8DA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AAIA;AACA;AAFA;AAHA;AAOA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAJA;AAAA;AAQA;AACA;AACA;AACA;AAGA;AAFA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AAJA;AAAA;AAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AACA;AArOA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAeA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAwNA;;;;;;;;;;;;;AC5PA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;;;AAAA;AAMA;AACA;AACA;AACA;AAFA;AAKA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AAxBA;AAEA;AACA;AAFA;AAyBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAAA;AAKA;AACA;;;AAAA;AAkBA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AApEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAaA;AACA;AAFA;AAyDA;;;;;;;;;;;;;ACzGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAOA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0CA;AACA;AACA;AAHA;AAzCA;AAAA;AAAA;AAAA;AACA;AAoDA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAJA;AAOA;AACA;AACA;AAAA;AAAA;AAFA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAKA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AANA;AAQA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAJA;AACA;AACA;AACA;AAJA;AACA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AACA;AACA;AAEA;AACA;AADA;AADA;AAFA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AACA;AAFA;AAKA;AAEA;AAEA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AACA;AACA;AACA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AA3ZA;AAEA;AAEA;AAIA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AA+BA;AADA;AA8XA;AACA;;;;;;;;;;;;;;;;AC5cA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAOA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AACA;AACA;AACA;AAJA;AAtBA;AAAA;AACA;AA8BA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AACA;AAMA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAJA;AAFA;AAUA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;AASA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAEA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAvQA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AATA;AAaA;AACA;AACA;AACA;AAJA;AA4PA;;;;;;;;;;;;;AChTA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;;;AAAA;AAMA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AACA;AACA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA;AACA;AA/BA;AAEA;AACA;AAFA;AAgCA;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;;;AAAA;AAsBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AALA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAxFA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AADA;AAPA;AAWA;AACA;AACA;AAlBA;AAyFA;AACA;;;;;;;;;;;;;;;;ACjHA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AAEA;AAEA;AACA;;;AAAA;AAgBA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;AAUA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAFA;AADA;AAOA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAJA;AADA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AAEA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AA9FA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AADA;AARA;AADA;AA+FA;;;;;;;;;;;;;ACvHA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAyDA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAIA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAKA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AAEA;AAAA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAJA;AAMA;AAAA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAAA;AAAA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AAziBA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAjBA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAshBA;;;;;;;;;;;;;AC/kBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAgBA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AACA;AAMA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAnHA;AAEA;AACA;AACA;AACA;AACA;AALA;AAoHA;;;;;;;;;;;;;ACxIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAAA;AAKA;AAAA;AACA;AAAA;AACA;AAEA;AAIA;AAJA;AAKA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AADA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AADA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AAAA;AAAA;AADA;AADA;AADA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AA3IA;AAEA;AADA;AA4IA;;;;;;;;;;;;;ACzKA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAEA;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;;;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AALA;AAQA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AACA;AAlDA;AAEA;AACA;AAFA;AAmDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAAA;AAKA;AACA;AACA;AACA;;;AAAA;AAAA;AAAA;AAAA;AAUA;AADA;AATA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAxDA;AAEA;AACA;AACA;AACA;AACA;AALA;AAyDA;;;;;;;;;;;;;AC7FA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}