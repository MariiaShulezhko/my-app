require.config({"config": {
        "jsbuild":{"Magento_Tinymce3/tiny_mce/plugins/inlinepopups/editor_plugin_src.js":"/**\n * editor_plugin_src.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function() {\n\tvar DOM = tinymce.DOM, Element = tinymce.dom.Element, Event = tinymce.dom.Event, each = tinymce.each, is = tinymce.is;\n\n\ttinymce.create('tinymce.plugins.InlinePopups', {\n\t\tinit : function(ed, url) {\n\t\t\t// Replace window manager\n\t\t\ted.onBeforeRenderUI.add(function() {\n\t\t\t\ted.windowManager = new tinymce.InlineWindowManager(ed);\n\t\t\t\tDOM.loadCSS(url + '/skins/' + (ed.settings.inlinepopups_skin || 'clearlooks2') + \"/window.css\");\n\t\t\t});\n\t\t},\n\n\t\tgetInfo : function() {\n\t\t\treturn {\n\t\t\t\tlongname : 'InlinePopups',\n\t\t\t\tauthor : 'Moxiecode Systems AB',\n\t\t\t\tauthorurl : 'http://tinymce.moxiecode.com',\n\t\t\t\tinfourl : 'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/inlinepopups',\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\n\t\t\t};\n\t\t}\n\t});\n\n\ttinymce.create('tinymce.InlineWindowManager:tinymce.WindowManager', {\n\t\tInlineWindowManager : function(ed) {\n\t\t\tvar t = this;\n\n\t\t\tt.parent(ed);\n\t\t\tt.zIndex = t.getMaxZIndex();\n\t\t\tt.count = 0;\n\t\t\tt.windows = {};\n\t\t},\n\n\t\topen : function(f, p) {\n\t\t\tvar t = this, id, opt = '', ed = t.editor, dw = 0, dh = 0, vp, po, mdf, clf, we, w, u, parentWindow;\n\n\t\t\tf = f || {};\n\t\t\tp = p || {};\n\n\t\t\t// Run native windows\n\t\t\tif (!f.inline)\n\t\t\t\treturn t.parent(f, p);\n\n\t\t\tparentWindow = t._frontWindow();\n\t\t\tif (parentWindow && DOM.get(parentWindow.id + '_ifr')) {\n\t\t\t\tparentWindow.focussedElement = DOM.get(parentWindow.id + '_ifr').contentWindow.document.activeElement;\n\t\t\t}\n\n\t\t\t// Only store selection if the type is a normal window\n\t\t\tif (!f.type)\n\t\t\t\tt.bookmark = ed.selection.getBookmark(1);\n\n\t\t\tid = DOM.uniqueId();\n\t\t\tvp = DOM.getViewPort();\n\t\t\tf.width = parseInt(f.width || 320);\n\t\t\tf.height = parseInt(f.height || 240) + (tinymce.isIE ? 8 : 0);\n\t\t\tf.min_width = parseInt(f.min_width || 150);\n\t\t\tf.min_height = parseInt(f.min_height || 100);\n\t\t\tf.max_width = parseInt(f.max_width || 2000);\n\t\t\tf.max_height = parseInt(f.max_height || 2000);\n\t\t\tf.left = f.left || Math.round(Math.max(vp.x, vp.x + (vp.w / 2.0) - (f.width / 2.0)));\n\t\t\tf.top = f.top || Math.round(Math.max(vp.y, vp.y + (vp.h / 2.0) - (f.height / 2.0)));\n\t\t\tf.movable = f.resizable = true;\n\t\t\tp.mce_width = f.width;\n\t\t\tp.mce_height = f.height;\n\t\t\tp.mce_inline = true;\n\t\t\tp.mce_window_id = id;\n\t\t\tp.mce_auto_focus = f.auto_focus;\n\n\t\t\t// Transpose\n//\t\t\tpo = DOM.getPos(ed.getContainer());\n//\t\t\tf.left -= po.x;\n//\t\t\tf.top -= po.y;\n\n\t\t\tt.features = f;\n\t\t\tt.params = p;\n\t\t\tt.onOpen.dispatch(t, f, p);\n\n\t\t\tif (f.type) {\n\t\t\t\topt += ' mceModal';\n\n\t\t\t\tif (f.type)\n\t\t\t\t\topt += ' mce' + f.type.substring(0, 1).toUpperCase() + f.type.substring(1);\n\n\t\t\t\tf.resizable = false;\n\t\t\t}\n\n\t\t\tif (f.statusbar)\n\t\t\t\topt += ' mceStatusbar';\n\n\t\t\tif (f.resizable)\n\t\t\t\topt += ' mceResizable';\n\n\t\t\tif (f.minimizable)\n\t\t\t\topt += ' mceMinimizable';\n\n\t\t\tif (f.maximizable)\n\t\t\t\topt += ' mceMaximizable';\n\n\t\t\tif (f.movable)\n\t\t\t\topt += ' mceMovable';\n\n\t\t\t// Create DOM objects\n\t\t\tt._addAll(DOM.doc.body,\n\t\t\t\t['div', {id : id, role : 'dialog', 'aria-labelledby': f.type ? id + '_content' : id + '_title', 'class' : (ed.settings.inlinepopups_skin || 'clearlooks2') + (tinymce.isIE && window.getSelection ? ' ie9' : ''), style : 'width:100px;height:100px'},\n\t\t\t\t\t['div', {id : id + '_wrapper', 'class' : 'mceWrapper' + opt},\n\t\t\t\t\t\t['div', {id : id + '_top', 'class' : 'mceTop'},\n\t\t\t\t\t\t\t['div', {'class' : 'mceLeft'}],\n\t\t\t\t\t\t\t['div', {'class' : 'mceCenter'}],\n\t\t\t\t\t\t\t['div', {'class' : 'mceRight'}],\n\t\t\t\t\t\t\t['span', {id : id + '_title'}, f.title || '']\n\t\t\t\t\t\t],\n\n\t\t\t\t\t\t['div', {id : id + '_middle', 'class' : 'mceMiddle'},\n\t\t\t\t\t\t\t['div', {id : id + '_left', 'class' : 'mceLeft', tabindex : '0'}],\n\t\t\t\t\t\t\t['span', {id : id + '_content'}],\n\t\t\t\t\t\t\t['div', {id : id + '_right', 'class' : 'mceRight', tabindex : '0'}]\n\t\t\t\t\t\t],\n\n\t\t\t\t\t\t['div', {id : id + '_bottom', 'class' : 'mceBottom'},\n\t\t\t\t\t\t\t['div', {'class' : 'mceLeft'}],\n\t\t\t\t\t\t\t['div', {'class' : 'mceCenter'}],\n\t\t\t\t\t\t\t['div', {'class' : 'mceRight'}],\n\t\t\t\t\t\t\t['span', {id : id + '_status'}, 'Content']\n\t\t\t\t\t\t],\n\n\t\t\t\t\t\t['a', {'class' : 'mceMove', tabindex : '-1', href : 'javascript:;'}],\n\t\t\t\t\t\t['a', {'class' : 'mceMin', tabindex : '-1', href : 'javascript:;', onmousedown : 'return false;'}],\n\t\t\t\t\t\t['a', {'class' : 'mceMax', tabindex : '-1', href : 'javascript:;', onmousedown : 'return false;'}],\n\t\t\t\t\t\t['a', {'class' : 'mceMed', tabindex : '-1', href : 'javascript:;', onmousedown : 'return false;'}],\n\t\t\t\t\t\t['a', {'class' : 'mceClose', tabindex : '-1', href : 'javascript:;', onmousedown : 'return false;'}],\n\t\t\t\t\t\t['a', {id : id + '_resize_n', 'class' : 'mceResize mceResizeN', tabindex : '-1', href : 'javascript:;'}],\n\t\t\t\t\t\t['a', {id : id + '_resize_s', 'class' : 'mceResize mceResizeS', tabindex : '-1', href : 'javascript:;'}],\n\t\t\t\t\t\t['a', {id : id + '_resize_w', 'class' : 'mceResize mceResizeW', tabindex : '-1', href : 'javascript:;'}],\n\t\t\t\t\t\t['a', {id : id + '_resize_e', 'class' : 'mceResize mceResizeE', tabindex : '-1', href : 'javascript:;'}],\n\t\t\t\t\t\t['a', {id : id + '_resize_nw', 'class' : 'mceResize mceResizeNW', tabindex : '-1', href : 'javascript:;'}],\n\t\t\t\t\t\t['a', {id : id + '_resize_ne', 'class' : 'mceResize mceResizeNE', tabindex : '-1', href : 'javascript:;'}],\n\t\t\t\t\t\t['a', {id : id + '_resize_sw', 'class' : 'mceResize mceResizeSW', tabindex : '-1', href : 'javascript:;'}],\n\t\t\t\t\t\t['a', {id : id + '_resize_se', 'class' : 'mceResize mceResizeSE', tabindex : '-1', href : 'javascript:;'}]\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t);\n\n\t\t\tDOM.setStyles(id, {top : -10000, left : -10000});\n\n\t\t\t// Fix gecko rendering bug, where the editors iframe messed with window contents\n\t\t\tif (tinymce.isGecko)\n\t\t\t\tDOM.setStyle(id, 'overflow', 'auto');\n\n\t\t\t// Measure borders\n\t\t\tif (!f.type) {\n\t\t\t\tdw += DOM.get(id + '_left').clientWidth;\n\t\t\t\tdw += DOM.get(id + '_right').clientWidth;\n\t\t\t\tdh += DOM.get(id + '_top').clientHeight;\n\t\t\t\tdh += DOM.get(id + '_bottom').clientHeight;\n\t\t\t}\n\n\t\t\t// Resize window\n\t\t\tDOM.setStyles(id, {top : f.top, left : f.left, width : f.width + dw, height : f.height + dh});\n\n\t\t\tu = f.url || f.file;\n\t\t\tif (u) {\n\t\t\t\tif (tinymce.relaxedDomain)\n\t\t\t\t\tu += (u.indexOf('?') == -1 ? '?' : '&') + 'mce_rdomain=' + tinymce.relaxedDomain;\n\n\t\t\t\tu = tinymce._addVer(u);\n\t\t\t}\n\n\t\t\tif (!f.type) {\n\t\t\t\tDOM.add(id + '_content', 'iframe', {id : id + '_ifr', src : 'javascript:\"\"', frameBorder : 0, style : 'border:0;width:10px;height:10px'});\n\t\t\t\tDOM.setStyles(id + '_ifr', {width : f.width, height : f.height});\n\t\t\t\tDOM.setAttrib(id + '_ifr', 'src', u);\n\t\t\t} else {\n\t\t\t\tDOM.add(id + '_wrapper', 'a', {id : id + '_ok', 'class' : 'mceButton mceOk', href : 'javascript:;', onmousedown : 'return false;'}, 'Ok');\n\n\t\t\t\tif (f.type == 'confirm')\n\t\t\t\t\tDOM.add(id + '_wrapper', 'a', {'class' : 'mceButton mceCancel', href : 'javascript:;', onmousedown : 'return false;'}, 'Cancel');\n\n\t\t\t\tDOM.add(id + '_middle', 'div', {'class' : 'mceIcon'});\n\t\t\t\tDOM.setHTML(id + '_content', f.content.replace('\\n', '<br />'));\n\n\t\t\t\tEvent.add(id, 'keyup', function(evt) {\n\t\t\t\t\tvar VK_ESCAPE = 27;\n\t\t\t\t\tif (evt.keyCode === VK_ESCAPE) {\n\t\t\t\t\t\tf.button_func(false);\n\t\t\t\t\t\treturn Event.cancel(evt);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tEvent.add(id, 'keydown', function(evt) {\n\t\t\t\t\tvar cancelButton, VK_TAB = 9;\n\t\t\t\t\tif (evt.keyCode === VK_TAB) {\n\t\t\t\t\t\tcancelButton = DOM.select('a.mceCancel', id + '_wrapper')[0];\n\t\t\t\t\t\tif (cancelButton && cancelButton !== evt.target) {\n\t\t\t\t\t\t\tcancelButton.focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOM.get(id + '_ok').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn Event.cancel(evt);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Register events\n\t\t\tmdf = Event.add(id, 'mousedown', function(e) {\n\t\t\t\tvar n = e.target, w, vp;\n\n\t\t\t\tw = t.windows[id];\n\t\t\t\tt.focus(id);\n\n\t\t\t\tif (n.nodeName == 'A' || n.nodeName == 'a') {\n\t\t\t\t\tif (n.className == 'mceClose') {\n\t\t\t\t\t\tt.close(null, id);\n\t\t\t\t\t\treturn Event.cancel(e);\n\t\t\t\t\t} else if (n.className == 'mceMax') {\n\t\t\t\t\t\tw.oldPos = w.element.getXY();\n\t\t\t\t\t\tw.oldSize = w.element.getSize();\n\n\t\t\t\t\t\tvp = DOM.getViewPort();\n\n\t\t\t\t\t\t// Reduce viewport size to avoid scrollbars\n\t\t\t\t\t\tvp.w -= 2;\n\t\t\t\t\t\tvp.h -= 2;\n\n\t\t\t\t\t\tw.element.moveTo(vp.x, vp.y);\n\t\t\t\t\t\tw.element.resizeTo(vp.w, vp.h);\n\t\t\t\t\t\tDOM.setStyles(id + '_ifr', {width : vp.w - w.deltaWidth, height : vp.h - w.deltaHeight});\n\t\t\t\t\t\tDOM.addClass(id + '_wrapper', 'mceMaximized');\n\t\t\t\t\t} else if (n.className == 'mceMed') {\n\t\t\t\t\t\t// Reset to old size\n\t\t\t\t\t\tw.element.moveTo(w.oldPos.x, w.oldPos.y);\n\t\t\t\t\t\tw.element.resizeTo(w.oldSize.w, w.oldSize.h);\n\t\t\t\t\t\tw.iframeElement.resizeTo(w.oldSize.w - w.deltaWidth, w.oldSize.h - w.deltaHeight);\n\n\t\t\t\t\t\tDOM.removeClass(id + '_wrapper', 'mceMaximized');\n\t\t\t\t\t} else if (n.className == 'mceMove')\n\t\t\t\t\t\treturn t._startDrag(id, e, n.className);\n\t\t\t\t\telse if (DOM.hasClass(n, 'mceResize'))\n\t\t\t\t\t\treturn t._startDrag(id, e, n.className.substring(13));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tclf = Event.add(id, 'click', function(e) {\n\t\t\t\tvar n = e.target;\n\n\t\t\t\tt.focus(id);\n\n\t\t\t\tif (n.nodeName == 'A' || n.nodeName == 'a') {\n\t\t\t\t\tswitch (n.className) {\n\t\t\t\t\t\tcase 'mceClose':\n\t\t\t\t\t\t\tt.close(null, id);\n\t\t\t\t\t\t\treturn Event.cancel(e);\n\n\t\t\t\t\t\tcase 'mceButton mceOk':\n\t\t\t\t\t\tcase 'mceButton mceCancel':\n\t\t\t\t\t\t\tf.button_func(n.className == 'mceButton mceOk');\n\t\t\t\t\t\t\treturn Event.cancel(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Make sure the tab order loops within the dialog.\n\t\t\tEvent.add([id + '_left', id + '_right'], 'focus', function(evt) {\n\t\t\t\tvar iframe = DOM.get(id + '_ifr');\n\t\t\t\tif (iframe) {\n\t\t\t\t\tvar body = iframe.contentWindow.document.body;\n\t\t\t\t\tvar focusable = DOM.select(':input:enabled,*[tabindex=0]', body);\n\t\t\t\t\tif (evt.target.id === (id + '_left')) {\n\t\t\t\t\t\tfocusable[focusable.length - 1].focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfocusable[0].focus();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tDOM.get(id + '_ok').focus();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add window\n\t\t\tw = t.windows[id] = {\n\t\t\t\tid : id,\n\t\t\t\tmousedown_func : mdf,\n\t\t\t\tclick_func : clf,\n\t\t\t\telement : new Element(id, {blocker : 1, container : ed.getContainer()}),\n\t\t\t\tiframeElement : new Element(id + '_ifr'),\n\t\t\t\tfeatures : f,\n\t\t\t\tdeltaWidth : dw,\n\t\t\t\tdeltaHeight : dh\n\t\t\t};\n\n\t\t\tw.iframeElement.on('focus', function() {\n\t\t\t\tt.focus(id);\n\t\t\t});\n\n\t\t\t// Setup blocker\n\t\t\tif (t.count == 0 && t.editor.getParam('dialog_type', 'modal') == 'modal') {\n\t\t\t\tDOM.add(DOM.doc.body, 'div', {\n\t\t\t\t\tid : 'mceModalBlocker',\n\t\t\t\t\t'class' : (t.editor.settings.inlinepopups_skin || 'clearlooks2') + '_modalBlocker',\n\t\t\t\t\tstyle : {zIndex : t.zIndex - 1}\n\t\t\t\t});\n\n\t\t\t\tDOM.show('mceModalBlocker'); // Reduces flicker in IE\n\t\t\t\tDOM.setAttrib(DOM.doc.body, 'aria-hidden', 'true');\n\t\t\t} else\n\t\t\t\tDOM.setStyle('mceModalBlocker', 'z-index', t.zIndex - 1);\n\n\t\t\tif (tinymce.isIE6 || /Firefox\\/2\\./.test(navigator.userAgent) || (tinymce.isIE && !DOM.boxModel))\n\t\t\t\tDOM.setStyles('mceModalBlocker', {position : 'absolute', left : vp.x, top : vp.y, width : vp.w - 2, height : vp.h - 2});\n\n\t\t\tDOM.setAttrib(id, 'aria-hidden', 'false');\n\t\t\tt.focus(id);\n\t\t\tt._fixIELayout(id, 1);\n\n\t\t\t// Focus ok button\n\t\t\tif (DOM.get(id + '_ok'))\n\t\t\t\tDOM.get(id + '_ok').focus();\n\t\t\tt.count++;\n\n\t\t\treturn w;\n\t\t},\n\n        getMaxZIndex: function() {\n            var max = 0, i;\n            var cn = document.body.childNodes;\n            for (i = 0; i < cn.length; i++) {\n                var el = cn[i];\n                var zIndex = el.nodeType == 1 ? parseInt(el.style.zIndex, 10) || 0 : 0;\n                if (zIndex < 10000) {\n                    max = Math.max(max, zIndex);\n                }\n            }\n            return max + 10;\n        },\n\n\t\tfocus : function(id) {\n\t\t\tvar t = this, w;\n\n\t\t\tif (w = t.windows[id]) {\n\t\t\t\tw.zIndex = t.getMaxZIndex();\n\t\t\t\tw.element.setStyle('zIndex', w.zIndex);\n\t\t\t\tw.element.update();\n\n\t\t\t\tid = id + '_wrapper';\n\t\t\t\tDOM.removeClass(t.lastId, 'mceFocus');\n\t\t\t\tDOM.addClass(id, 'mceFocus');\n\t\t\t\tt.lastId = id;\n\n\t\t\t\tif (w.focussedElement) {\n\t\t\t\t\tw.focussedElement.focus();\n\t\t\t\t} else if (DOM.get(id + '_ok')) {\n\t\t\t\t\tDOM.get(w.id + '_ok').focus();\n\t\t\t\t} else if (DOM.get(w.id + '_ifr')) {\n\t\t\t\t\tDOM.get(w.id + '_ifr').focus();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_addAll : function(te, ne) {\n\t\t\tvar i, n, t = this, dom = tinymce.DOM;\n\n\t\t\tif (is(ne, 'string'))\n\t\t\t\tte.appendChild(dom.doc.createTextNode(ne));\n\t\t\telse if (ne.length) {\n\t\t\t\tte = te.appendChild(dom.create(ne[0], ne[1]));\n\n\t\t\t\tfor (i=2; i<ne.length; i++)\n\t\t\t\t\tt._addAll(te, ne[i]);\n\t\t\t}\n\t\t},\n\n\t\t_startDrag : function(id, se, ac) {\n\t\t\tvar t = this, mu, mm, d = DOM.doc, eb, w = t.windows[id], we = w.element, sp = we.getXY(), p, sz, ph, cp, vp, sx, sy, sex, sey, dx, dy, dw, dh;\n\n\t\t\t// Get positons and sizes\n//\t\t\tcp = DOM.getPos(t.editor.getContainer());\n\t\t\tcp = {x : 0, y : 0};\n\t\t\tvp = DOM.getViewPort();\n\n\t\t\t// Reduce viewport size to avoid scrollbars while dragging\n\t\t\tvp.w -= 2;\n\t\t\tvp.h -= 2;\n\n\t\t\tsex = se.screenX;\n\t\t\tsey = se.screenY;\n\t\t\tdx = dy = dw = dh = 0;\n\n\t\t\t// Handle mouse up\n\t\t\tmu = Event.add(d, 'mouseup', function(e) {\n\t\t\t\tEvent.remove(d, 'mouseup', mu);\n\t\t\t\tEvent.remove(d, 'mousemove', mm);\n\n\t\t\t\tif (eb)\n\t\t\t\t\teb.remove();\n\n\t\t\t\twe.moveBy(dx, dy);\n\t\t\t\twe.resizeBy(dw, dh);\n\t\t\t\tsz = we.getSize();\n\t\t\t\tDOM.setStyles(id + '_ifr', {width : sz.w - w.deltaWidth, height : sz.h - w.deltaHeight});\n\t\t\t\tt._fixIELayout(id, 1);\n\n\t\t\t\treturn Event.cancel(e);\n\t\t\t});\n\n\t\t\tif (ac != 'Move')\n\t\t\t\tstartMove();\n\n\t\t\tfunction startMove() {\n\t\t\t\tif (eb)\n\t\t\t\t\treturn;\n\n\t\t\t\tt._fixIELayout(id, 0);\n\n\t\t\t\t// Setup event blocker\n\t\t\t\tDOM.add(d.body, 'div', {\n\t\t\t\t\tid : 'mceEventBlocker',\n\t\t\t\t\t'class' : 'mceEventBlocker ' + (t.editor.settings.inlinepopups_skin || 'clearlooks2'),\n\t\t\t\t\tstyle : {zIndex : t.zIndex + 1}\n\t\t\t\t});\n\n\t\t\t\tif (tinymce.isIE6 || (tinymce.isIE && !DOM.boxModel))\n\t\t\t\t\tDOM.setStyles('mceEventBlocker', {position : 'absolute', left : vp.x, top : vp.y, width : vp.w - 2, height : vp.h - 2});\n\n\t\t\t\teb = new Element('mceEventBlocker');\n\t\t\t\teb.update();\n\n\t\t\t\t// Setup placeholder\n\t\t\t\tp = we.getXY();\n\t\t\t\tsz = we.getSize();\n\t\t\t\tsx = cp.x + p.x - vp.x;\n\t\t\t\tsy = cp.y + p.y - vp.y;\n\t\t\t\tDOM.add(eb.get(), 'div', {id : 'mcePlaceHolder', 'class' : 'mcePlaceHolder', style : {left : sx, top : sy, width : sz.w, height : sz.h}});\n\t\t\t\tph = new Element('mcePlaceHolder');\n\t\t\t};\n\n\t\t\t// Handle mouse move/drag\n\t\t\tmm = Event.add(d, 'mousemove', function(e) {\n\t\t\t\tvar x, y, v;\n\n\t\t\t\tstartMove();\n\n\t\t\t\tx = e.screenX - sex;\n\t\t\t\ty = e.screenY - sey;\n\n\t\t\t\tswitch (ac) {\n\t\t\t\t\tcase 'ResizeW':\n\t\t\t\t\t\tdx = x;\n\t\t\t\t\t\tdw = 0 - x;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ResizeE':\n\t\t\t\t\t\tdw = x;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ResizeN':\n\t\t\t\t\tcase 'ResizeNW':\n\t\t\t\t\tcase 'ResizeNE':\n\t\t\t\t\t\tif (ac == \"ResizeNW\") {\n\t\t\t\t\t\t\tdx = x;\n\t\t\t\t\t\t\tdw = 0 - x;\n\t\t\t\t\t\t} else if (ac == \"ResizeNE\")\n\t\t\t\t\t\t\tdw = x;\n\n\t\t\t\t\t\tdy = y;\n\t\t\t\t\t\tdh = 0 - y;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ResizeS':\n\t\t\t\t\tcase 'ResizeSW':\n\t\t\t\t\tcase 'ResizeSE':\n\t\t\t\t\t\tif (ac == \"ResizeSW\") {\n\t\t\t\t\t\t\tdx = x;\n\t\t\t\t\t\t\tdw = 0 - x;\n\t\t\t\t\t\t} else if (ac == \"ResizeSE\")\n\t\t\t\t\t\t\tdw = x;\n\n\t\t\t\t\t\tdh = y;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'mceMove':\n\t\t\t\t\t\tdx = x;\n\t\t\t\t\t\tdy = y;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t// Boundary check\n\t\t\t\tif (dw < (v = w.features.min_width - sz.w)) {\n\t\t\t\t\tif (dx !== 0)\n\t\t\t\t\t\tdx += dw - v;\n\n\t\t\t\t\tdw = v;\n\t\t\t\t}\n\n\t\t\t\tif (dh < (v = w.features.min_height - sz.h)) {\n\t\t\t\t\tif (dy !== 0)\n\t\t\t\t\t\tdy += dh - v;\n\n\t\t\t\t\tdh = v;\n\t\t\t\t}\n\n\t\t\t\tdw = Math.min(dw, w.features.max_width - sz.w);\n\t\t\t\tdh = Math.min(dh, w.features.max_height - sz.h);\n\t\t\t\tdx = Math.max(dx, vp.x - (sx + vp.x));\n\t\t\t\tdy = Math.max(dy, vp.y - (sy + vp.y));\n\t\t\t\tdx = Math.min(dx, (vp.w + vp.x) - (sx + sz.w + vp.x));\n\t\t\t\tdy = Math.min(dy, (vp.h + vp.y) - (sy + sz.h + vp.y));\n\n\t\t\t\t// Move if needed\n\t\t\t\tif (dx + dy !== 0) {\n\t\t\t\t\tif (sx + dx < 0)\n\t\t\t\t\t\tdx = 0;\n\n\t\t\t\t\tif (sy + dy < 0)\n\t\t\t\t\t\tdy = 0;\n\n\t\t\t\t\tph.moveTo(sx + dx, sy + dy);\n\t\t\t\t}\n\n\t\t\t\t// Resize if needed\n\t\t\t\tif (dw + dh !== 0)\n\t\t\t\t\tph.resizeTo(sz.w + dw, sz.h + dh);\n\n\t\t\t\treturn Event.cancel(e);\n\t\t\t});\n\n\t\t\treturn Event.cancel(se);\n\t\t},\n\n\t\tresizeBy : function(dw, dh, id) {\n\t\t\tvar w = this.windows[id];\n\n\t\t\tif (w) {\n\t\t\t\tw.element.resizeBy(dw, dh);\n\t\t\t\tw.iframeElement.resizeBy(dw, dh);\n\t\t\t}\n\t\t},\n\n\t\tclose : function(win, id) {\n\t\t\tvar t = this, w, d = DOM.doc, fw, id;\n\n\t\t\tid = t._findId(id || win);\n\n\t\t\t// Probably not inline\n\t\t\tif (!t.windows[id]) {\n\t\t\t\tt.parent(win);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tt.count--;\n\n\t\t\tif (t.count == 0) {\n\t\t\t\tDOM.remove('mceModalBlocker');\n\t\t\t\tDOM.setAttrib(DOM.doc.body, 'aria-hidden', 'false');\n\t\t\t\tt.editor.focus();\n\t\t\t}\n\n\t\t\tif (w = t.windows[id]) {\n\t\t\t\tt.onClose.dispatch(t);\n\t\t\t\tEvent.remove(d, 'mousedown', w.mousedownFunc);\n\t\t\t\tEvent.remove(d, 'click', w.clickFunc);\n\t\t\t\tEvent.clear(id);\n\t\t\t\tEvent.clear(id + '_ifr');\n\n\t\t\t\tDOM.setAttrib(id + '_ifr', 'src', 'javascript:\"\"'); // Prevent leak\n\t\t\t\tw.element.remove();\n\t\t\t\tdelete t.windows[id];\n\n\t\t\t\tfw = t._frontWindow();\n\n\t\t\t\tif (fw)\n\t\t\t\t\tt.focus(fw.id);\n\t\t\t}\n\t\t},\n\n\t\t// Find front most window\n\t\t_frontWindow : function() {\n\t\t\tvar fw, ix = 0;\n\t\t\t// Find front most window and focus that\n\t\t\teach (this.windows, function(w) {\n\t\t\t\tif (w.zIndex > ix) {\n\t\t\t\t\tfw = w;\n\t\t\t\t\tix = w.zIndex;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn fw;\n\t\t},\n\n\t\tsetTitle : function(w, ti) {\n\t\t\tvar e;\n\n\t\t\tw = this._findId(w);\n\n\t\t\tif (e = DOM.get(w + '_title'))\n\t\t\t\te.innerHTML = DOM.encode(ti);\n\t\t},\n\n\t\talert : function(txt, cb, s) {\n\t\t\tvar t = this, w;\n\n\t\t\tw = t.open({\n\t\t\t\ttitle : t,\n\t\t\t\ttype : 'alert',\n\t\t\t\tbutton_func : function(s) {\n\t\t\t\t\tif (cb)\n\t\t\t\t\t\tcb.call(s || t, s);\n\n\t\t\t\t\tt.close(null, w.id);\n\t\t\t\t},\n\t\t\t\tcontent : DOM.encode(t.editor.getLang(txt, txt)),\n\t\t\t\tinline : 1,\n\t\t\t\twidth : 400,\n\t\t\t\theight : 130\n\t\t\t});\n\t\t},\n\n\t\tconfirm : function(txt, cb, s) {\n\t\t\tvar t = this, w;\n\n\t\t\tw = t.open({\n\t\t\t\ttitle : t,\n\t\t\t\ttype : 'confirm',\n\t\t\t\tbutton_func : function(s) {\n\t\t\t\t\tif (cb)\n\t\t\t\t\t\tcb.call(s || t, s);\n\n\t\t\t\t\tt.close(null, w.id);\n\t\t\t\t},\n\t\t\t\tcontent : DOM.encode(t.editor.getLang(txt, txt)),\n\t\t\t\tinline : 1,\n\t\t\t\twidth : 400,\n\t\t\t\theight : 130\n\t\t\t});\n\t\t},\n\n\t\t// Internal functions\n\n\t\t_findId : function(w) {\n\t\t\tvar t = this;\n\n\t\t\tif (typeof(w) == 'string')\n\t\t\t\treturn w;\n\n\t\t\teach(t.windows, function(wo) {\n\t\t\t\tvar ifr = DOM.get(wo.id + '_ifr');\n\n\t\t\t\tif (ifr && w == ifr.contentWindow) {\n\t\t\t\t\tw = wo.id;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn w;\n\t\t},\n\n\t\t_fixIELayout : function(id, s) {\n\t\t\tvar w, img;\n\n\t\t\tif (!tinymce.isIE6)\n\t\t\t\treturn;\n\n\t\t\t// Fixes the bug where hover flickers and does odd things in IE6\n\t\t\teach(['n','s','w','e','nw','ne','sw','se'], function(v) {\n\t\t\t\tvar e = DOM.get(id + '_resize_' + v);\n\n\t\t\t\tDOM.setStyles(e, {\n\t\t\t\t\twidth : s ? e.clientWidth : '',\n\t\t\t\t\theight : s ? e.clientHeight : '',\n\t\t\t\t\tcursor : DOM.getStyle(e, 'cursor', 1)\n\t\t\t\t});\n\n\t\t\t\tDOM.setStyle(id + \"_bottom\", 'bottom', '-1px');\n\n\t\t\t\te = 0;\n\t\t\t});\n\n\t\t\t// Fixes graphics glitch\n\t\t\tif (w = this.windows[id]) {\n\t\t\t\t// Fixes rendering bug after resize\n\t\t\t\tw.element.hide();\n\t\t\t\tw.element.show();\n\n\t\t\t\t// Forced a repaint of the window\n\t\t\t\t//DOM.get(id).style.filter = '';\n\n\t\t\t\t// IE has a bug where images used in CSS won't get loaded\n\t\t\t\t// sometimes when the cache in the browser is disabled\n\t\t\t\t// This fix tries to solve it by loading the images using the image object\n\t\t\t\teach(DOM.select('div,a', id), function(e, i) {\n\t\t\t\t\tif (e.currentStyle.backgroundImage != 'none') {\n\t\t\t\t\t\timg = new Image();\n\t\t\t\t\t\timg.src = e.currentStyle.backgroundImage.replace(/url\\(\\\"(.+)\\\"\\)/, '$1');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tDOM.get(id).style.filter = '';\n\t\t\t}\n\t\t}\n\t});\n\n\t// Register plugin\n\ttinymce.PluginManager.add('inlinepopups', tinymce.plugins.InlinePopups);\n})();\n\n"}
}});
